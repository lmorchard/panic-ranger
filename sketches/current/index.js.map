{"version":3,"sources":["webpack:///./src/sketches/current.js"],"names":["debug","world","window","systems","ViewportWebGL","container","followName","zoom","lineWidth","DebugCanvas","viewportSystemName","DrawStats","DatGui","PlayerInputSteering","Health","Motion","Position","Thruster","Seeker","Repulsor","Collision","Bounce","Spawn","RoadRunner","x","y","id","destinations","placeRepulsor","insert","Name","name","Sprite","color","size","range","force","Road","type","Math","random","push","Collidable","damage","mass","rotation","PI","deltaV","maxV","active","radPerSec","Runner","destination","start","vpSystem","getSystem","roadRunnerSystem","guiSystem","gui","generalf","addFolder","add","vpf","names","forEach","listen","options","zoomMin","zoomMax","step","rrf","open"],"mappings":"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","file":"sketches/current/index.js","sourcesContent":["import * as Core from '../lib/core';\n\nimport '../plugins/drawStats';\nimport '../plugins/memoryStats';\nimport '../plugins/datGui';\nimport '../plugins/debugCanvas';\nimport '../plugins/viewportWebGL';\nimport '../plugins/name';\nimport '../plugins/health';\nimport '../plugins/position';\nimport '../plugins/motion';\nimport '../plugins/thruster';\nimport '../plugins/seeker';\nimport '../plugins/collision';\nimport '../plugins/bounce';\nimport '../plugins/repulsor';\nimport '../plugins/playerInputSteering';\nimport '../plugins/hordeSpawn';\nimport '../plugins/spawn';\nimport '../plugins/roadRunner';\n\nconst debug = true;\n\nconst world = window.world = new Core.World({\n  systems: {\n    ViewportWebGL: {\n      debug: debug,\n      container: '#game',\n      followName: 'hero1',\n      zoom: 0.3,\n      lineWidth: 2.5\n    },\n    DebugCanvas: {\n      container: '#game',\n      viewportSystemName: 'ViewportWebGL',\n    },\n    DrawStats: {},\n    DatGui: {},\n    PlayerInputSteering: {},\n    Health: {},\n    Motion: {},\n    Position: {},\n    Thruster: {},\n    Seeker: {},\n    Repulsor: {},\n    Collision: {},\n    Bounce: {},\n    Spawn: {},\n    RoadRunner: {},\n  }\n});\n\nlet x = 0;\nlet y = 0;\nlet id;\n\nconst destinations = [];\n\nconst placeRepulsor = (x, y) =>\n  id = world.insert({\n    Name: { name: `repulsor${y}` },\n    Sprite: { name: 'repulsor', color: 0x228822, size: 100 },\n    Position: { x, y },\n    Motion: { },\n    Repulsor: { range: 600, force: 300 },\n    Road: { type: 'repulsor', range: 800 }\n  });\n\nfor (y = 0; y > -3000; y -= 600) {\n  placeRepulsor(x, y);\n  x += (-300 + Math.random() * 600);\n}\ndestinations.push(id);\n\nx = 0;\nfor (y = 600; y < 3000; y += 600) {\n  placeRepulsor(x, y);\n  x += (-300 + Math.random() * 600);\n}\ndestinations.push(id);\n\ny = 0;\nfor (x = -600; x > -3000; x -= 600) {\n  placeRepulsor(x, y);\n  y += (-300 + Math.random() * 600);\n}\ndestinations.push(id);\n\ny = 0;\nfor (x = 600; x < 3000; x += 600) {\n  placeRepulsor(x, y);\n  y += (-300 + Math.random() * 600);\n}\ndestinations.push(id);\n\nworld.insert({\n  Name: { name: 'hero1'},\n  Sprite: { name: 'hero', size: 150, color: 0x3333ff },\n  Spawn: {},\n  Collidable: {},\n  Bounce: { damage: 0.0001, mass: 7000 },\n  Position: { x: 0, y: 0, rotation: -(Math.PI / 2) },\n  Motion: {},\n  Thruster: { deltaV: 2800, maxV: 1400, active: false },\n  PlayerInputSteering: { radPerSec: Math.PI },\n  Runner: { destination: ''+destinations[0] },\n});\n\nworld.debug = true;\n\nworld.start();\n\nconst vpSystem = world.getSystem('ViewportWebGL');\nconst roadRunnerSystem = world.getSystem('RoadRunner');\nconst guiSystem = world.getSystem('DatGui');\nconst gui = guiSystem.gui;\n\nconst generalf = gui.addFolder('General');\ngeneralf.add(world, 'isPaused');\ngeneralf.add(world, 'debug');\n\nconst vpf = gui.addFolder('Viewport');\nconst names = [ 'gridEnabled', 'followEnabled', 'cameraX', 'cameraY' ];\nnames.forEach(name => vpf.add(vpSystem, name).listen());\nvpf.add(vpSystem, 'zoom',\n  vpSystem.options.zoomMin, vpSystem.options.zoomMax).listen();\nvpf.add(vpSystem, 'lineWidth', 1.0, 4.0).step(0.5).listen();\n\nconst rrf = gui.addFolder('RoadRunner');\n['debug', 'debugRange', 'debugRoads', 'debugText', 'debugPath']\n  .forEach(name => rrf.add(roadRunnerSystem.options, name));\nrrf.open();\n\n\n\n// WEBPACK FOOTER //\n// ./src/sketches/current.js"],"sourceRoot":""}