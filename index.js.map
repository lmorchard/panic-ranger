{"version":3,"file":null,"sources":["../src/lib/core.js","../node_modules/stats-js/build/stats.min.js","../src/plugins/drawStats.js","../node_modules/memory-stats/memory-stats.js","../src/plugins/memoryStats.js","../node_modules/dat-gui/vendor/dat.gui.js","../node_modules/dat-gui/vendor/dat.color.js","../node_modules/dat-gui/index.js","../src/plugins/datGui.js","../../../../../../source/node_modules/pixify/node_modules/browserify/node_modules/browser-pack/_prelude.js","../../../../../../source/src/ascii/AsciiFilter.js","../../../../../../source/src/bloom/BloomFilter.js","../../../../../../source/src/check.js","../../../../../../source/src/convolution/ConvolutionFilter.js","../../../../../../source/src/crosshatch/CrossHatchFilter.js","../../../../../../source/src/dot/DotFilter.js","../../../../../../source/src/emboss/EmbossFilter.js","../../../../../../source/src/pixelate/PixelateFilter.js","../../../../../../source/src/rgb/RGBSplitFilter.js","../../../../../../source/src/shockwave/ShockwaveFilter.js","../../../../../../source/src/tiltshift/TiltShiftAxisFilter.js","../../../../../../source/src/tiltshift/TiltShiftFilter.js","../../../../../../source/src/tiltshift/TiltShiftXFilter.js","../../../../../../source/src/tiltshift/TiltShiftYFilter.js","../../../../../../source/src/twist/TwistFilter.js","../../../../../../source/src","../node_modules/pixi-extra-filters/src/filters/glow/GlowFilter.js","../node_modules/pixi-extra-filters/src/filters/outline/OutlineFilter.js","../node_modules/pixi-extra-filters/src/filters/bulgepinch/BulgePinchFilter.js","../node_modules/pixi-extra-filters/src/filters/colorreplace/ColorReplaceFilter.js","../node_modules/pixi-extra-filters/src/filters/simplelightmap/SimpleLightmapFilter.js","../node_modules/pixi-extra-filters/src/index.js","../src/plugins/viewportPixi.js","../src/plugins/name.js","../src/plugins/health.js","../src/lib/QuadTree.js","../src/plugins/position.js","../src/plugins/motion.js","../src/lib/Vector2D.js","../src/plugins/thruster.js","../src/plugins/seeker.js","../src/plugins/collision.js","../src/plugins/bounce.js","../src/plugins/repulsor.js","../src/plugins/playerInputSteering.js","../src/plugins/hordeSpawn.js","../src/index.js"],"sourcesContent":["/* global PIXI */\n\nconst TARGET_FPS = 60;\nconst TARGET_DURATION = 1000 / TARGET_FPS;\r\n\r\nconst requestAnimationFrame =\r\n  window.requestAnimationFrame ||\r\n  window.webkitRequestAnimationFrame ||\r\n  window.mozRequestAnimationFrame ||\r\n  window.oRequestAnimationFrame ||\r\n  window.msRequestAnimationFrame ||\r\n  function (fn) { setTimeout(fn, (1000/60)); };\r\n\r\n// Commonly used temp variables, pre-declared early.\r\nlet entityId, system, systemName, systemAttrs, systemCls, componentName,\r\n    timeNow, timeDelta, componentAttrs, matches, idx, item, handler;\r\n\r\nexport const Messages = {\r\n  ENTITY_INSERT: 'entity_insert',\r\n  ENTITY_DESTROY: 'entity_destroy'\r\n};\r\n\r\nexport class World {\r\n  constructor(options) {\r\n    options = options || {};\r\n\r\n    this.isRunning = false;\r\n    this.isPaused = false;\r\n    this.debug = false;\r\n\r\n    this.systems = {};\r\n    if (options.systems) {\r\n      this.addSystems(options.systems);\r\n    }\r\n\r\n    this.store = {};\r\n\r\n    this.subscribers = {};\r\n\r\n    this.tickDuration = TARGET_DURATION;\r\n    this.maxTickDelta = TARGET_DURATION * 5;\r\n    this.tickAccumulator = 0;\r\n\r\n    this.lastTickTime = 0;\r\n    this.lastDrawTime = 0;\r\n\r\n    this.boundTickLoop = () => this.tickLoop();\r\n    this.boundDrawLoop = (timestamp) => this.drawLoop(timestamp);\r\n\r\n    this.reset();\r\n  }\r\n\r\n  start() {\r\n    if (this.isRunning) { return; }\r\n    this.isRunning = true;\r\n\r\n    for (const systemName in this.systems) {\r\n      this.systems[systemName].initialize();\r\n    }\r\n\r\n    // Game logic separated from display rendering\r\n    // See also: http://www.chandlerprall.com/2012/06/requestanimationframe-is-not-your-logics-friend/\r\n    this.lastTickTime = Date.now();\r\n    this.lastDrawTime = 0;\r\n\r\n    setTimeout(this.boundTickLoop, this.tickDuration);\r\n    requestAnimationFrame(this.boundDrawLoop);\r\n\r\n    return this;\r\n  }\r\n\r\n  stop() {\r\n    this.isRunning = false;\r\n    return this;\r\n  }\r\n\r\n  pause() {\r\n    this.isPaused = true;\r\n    return this;\r\n  }\r\n\r\n  resume() {\r\n    this.isPaused = false;\r\n    return this;\r\n  }\r\n\r\n  reset() {\r\n    this.store = {};\r\n    this.lastEntityId = 0;\r\n  }\r\n\r\n  // TODO: Use a better pubsub library here. But, pubsub-js seemed to perform\r\n  // badly in a game loop.\r\n\r\n  subscribe(msg, handler) {\r\n    if (!this.subscribers[msg]) {\r\n      this.subscribers[msg] = [];\r\n    }\r\n    this.subscribers[msg].push(handler);\r\n    return this;\r\n  }\r\n\r\n  unsubscribe(/* msg, handler */) {\r\n    // TODO\r\n    return this;\r\n  }\r\n\r\n  publish(msg, data) {\r\n    if (!this.subscribers[msg]) { return; }\r\n    for (idx = 0, handler; handler = this.subscribers[msg][idx]; idx++) {\r\n      handler(msg, data);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  addSystems(systemsData) {\r\n    for (systemName in systemsData) {\r\n      systemAttrs = systemsData[systemName];\r\n      systemCls = getSystem(systemName);\r\n      system = new systemCls(systemAttrs);\r\n      system.setWorld(this);\r\n      this.systems[systemName] = system;\r\n    }\r\n  }\r\n\r\n  getSystem(systemName) {\r\n    return this.systems[systemName];\r\n  }\r\n\r\n  tick(timeDeltaMS) {\r\n    timeDelta = timeDeltaMS / 1000;\r\n    for (systemName in this.systems) {\r\n      this.systems[systemName].updateStart(timeDelta);\r\n    }\r\n    for (systemName in this.systems) {\r\n      this.systems[systemName].update(timeDelta);\r\n    }\r\n    for (systemName in this.systems) {\r\n      this.systems[systemName].updateEnd(timeDelta);\r\n    }\r\n  }\r\n\r\n  tickLoop() {\r\n    timeNow = Date.now();\r\n    timeDelta = Math.min(timeNow - this.lastTickTime, this.maxTickDelta);\r\n    this.lastTickTime = timeNow;\r\n\r\n    if (!this.isPaused) {\r\n      // Fixed-step game logic loop\r\n      // see: http://gafferongames.com/game-physics/fix-your-timestep/\r\n      this.tickAccumulator += timeDelta;\r\n      while (this.tickAccumulator > this.tickDuration) {\r\n        this.tick(this.tickDuration);\r\n        this.tickAccumulator -= this.tickDuration;\r\n      }\r\n    }\r\n\r\n    if (this.isRunning) {\r\n      setTimeout(this.boundTickLoop, this.tickDuration);\r\n    }\r\n  }\r\n\r\n  draw(timeDeltaMS) {\r\n    timeDelta = timeDeltaMS / 1000;\r\n    for (systemName in this.systems) {\r\n      this.systems[systemName].drawStart(timeDelta);\r\n    }\r\n    for (systemName in this.systems) {\r\n      this.systems[systemName].draw(timeDelta);\r\n    }\r\n    for (systemName in this.systems) {\r\n      this.systems[systemName].drawEnd(timeDelta);\r\n    }\r\n  }\r\n\r\n  drawLoop(timestamp) {\r\n    if (!this.lastDrawTime) { this.lastDrawTime = timestamp; }\r\n    timeDelta = timestamp - this.lastDrawTime;\r\n    this.lastDrawTime = timestamp;\r\n\r\n    if (!this.isPaused) {\r\n      this.draw(timeDelta);\r\n    }\r\n\r\n    if (this.isRunning) {\r\n      requestAnimationFrame(this.boundDrawLoop);\r\n    }\r\n  }\r\n\r\n  generateEntityId() {\r\n    return ++(this.lastEntityId);\r\n  }\r\n\r\n  insert(...items) {\r\n    const out = [];\r\n    for (idx = 0; item = items[idx]; idx++) {\r\n      entityId = this.generateEntityId();\r\n      for (componentName in item) {\r\n        componentAttrs = item[componentName];\r\n        this.addComponent(entityId, componentName, componentAttrs);\r\n      }\r\n      if (this.world) this.world.publish(Messages.ENTITY_INSERT, entityId);\r\n      out.push(entityId);\r\n    }\r\n    return out.length > 1 ? out : out[0];\r\n  }\r\n\r\n  destroy(entityId) {\r\n    if (this.world) this.world.publish(Messages.ENTITY_DESTROY, entityId);\r\n    for (componentName in this.store) {\r\n      this.removeComponent(entityId, componentName);\r\n    }\r\n  }\r\n\r\n  addComponent(entityId, componentName, componentAttrs) {\r\n    const componentManager = getComponent(componentName);\r\n    const component = componentManager.create(componentAttrs);\r\n    if (!this.store[componentName]) {\r\n      this.store[componentName] = {};\r\n    }\r\n    this.store[componentName][entityId] = component;\r\n  }\r\n\r\n  removeComponent(entityId, componentName) {\r\n    if (entityId in this.store[componentName]) {\r\n      delete this.store[componentName][entityId];\r\n    }\r\n  }\r\n\r\n  hasComponent(entityId, componentName) {\r\n    return (componentName in this.store) &&\r\n           (entityId in this.store[componentName]);\r\n  }\r\n\r\n  get(componentName, entityId) {\r\n    if (!this.store[componentName]) {\r\n      return null;\r\n    } else if (!entityId) {\r\n      return this.store[componentName];\r\n    } else {\r\n      return this.store[componentName][entityId];\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\nexport class Component {\r\n\r\n  static defaults() {\r\n    return {};\r\n  }\r\n\r\n  static create(attrs) {\r\n    return {...this.defaults(), ...(attrs || {})};\n  }\r\n\r\n}\r\n\r\nexport class System {\r\n\r\n  constructor(options) {\r\n    this.options = {...this.defaultOptions(), ...(options || {})};\n    this.debug = this.options.debug || false;\r\n  }\r\n\r\n  defaultOptions() {\r\n    return {};\r\n  }\r\n\r\n  setWorld(world) {\r\n    this.world = world;\r\n  }\r\n\r\n  matchComponent() { return ''; }\r\n\r\n  initialize() { }\r\n\r\n  getMatchingComponents() {\r\n    return this.world.get(this.matchComponent());\r\n  }\r\n\r\n  updateStart(/* timeDelta */) { }\r\n\r\n  update(timeDelta) {\r\n    matches = this.getMatchingComponents();\r\n    for (entityId in matches) {\r\n      this.updateComponent(timeDelta, entityId, matches[entityId]);\r\n    }\r\n  }\r\n\r\n  updateComponent(/* timeDelta, entityId, component */) { }\r\n\r\n  updateEnd(/* timeDelta */) { }\r\n\r\n  drawStart(/* timeDelta */) { }\r\n\r\n  draw(/* timeDelta */) { }\n\n  getDebugGraphics() {\n    if (!this.world.debug) {\n      if (this.gDebug) { this.gDebug.visible = false; }\n      return;\n    }\n    if (!this.viewportSystem) {\n      this.viewportSystem = this.world.getSystem(this.options.viewportSystemName || 'ViewportPixi');\n      this.gDebug = new PIXI.Graphics();\n      this.viewportSystem.stage.addChild(this.gDebug);\n      this.gDebug.position.x = 0;\n      this.gDebug.position.y = 0;\n    }\n    this.gDebug.clear();\n    this.gDebug.visible = true;\n    return this.gDebug;\n  }\n\r\n  drawEnd(/* timeDelta */) { }\r\n\r\n}\r\n\r\nconst componentRegistry = {};\r\n\r\nexport function registerComponent(componentName, componentManager) {\r\n  componentRegistry[componentName] = componentManager;\r\n}\r\n\r\nexport function getComponent(componentName) {\r\n  return componentRegistry[componentName];\r\n}\r\n\r\nconst systemRegistry = {};\r\n\r\nexport function registerSystem(systemName, system) {\r\n  systemRegistry[systemName] = system;\r\n}\r\n\r\nexport function getSystem(systemName) {\r\n  return systemRegistry[systemName];\r\n}\r\n","// stats.js - http://github.com/mrdoob/stats.js\nvar Stats=function(){var l=Date.now(),m=l,g=0,n=Infinity,o=0,h=0,p=Infinity,q=0,r=0,s=0,f=document.createElement(\"div\");f.id=\"stats\";f.addEventListener(\"mousedown\",function(b){b.preventDefault();t(++s%2)},!1);f.style.cssText=\"width:80px;opacity:0.9;cursor:pointer\";var a=document.createElement(\"div\");a.id=\"fps\";a.style.cssText=\"padding:0 0 3px 3px;text-align:left;background-color:#002\";f.appendChild(a);var i=document.createElement(\"div\");i.id=\"fpsText\";i.style.cssText=\"color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px\";\ni.innerHTML=\"FPS\";a.appendChild(i);var c=document.createElement(\"div\");c.id=\"fpsGraph\";c.style.cssText=\"position:relative;width:74px;height:30px;background-color:#0ff\";for(a.appendChild(c);74>c.children.length;){var j=document.createElement(\"span\");j.style.cssText=\"width:1px;height:30px;float:left;background-color:#113\";c.appendChild(j)}var d=document.createElement(\"div\");d.id=\"ms\";d.style.cssText=\"padding:0 0 3px 3px;text-align:left;background-color:#020;display:none\";f.appendChild(d);var k=document.createElement(\"div\");\nk.id=\"msText\";k.style.cssText=\"color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px\";k.innerHTML=\"MS\";d.appendChild(k);var e=document.createElement(\"div\");e.id=\"msGraph\";e.style.cssText=\"position:relative;width:74px;height:30px;background-color:#0f0\";for(d.appendChild(e);74>e.children.length;)j=document.createElement(\"span\"),j.style.cssText=\"width:1px;height:30px;float:left;background-color:#131\",e.appendChild(j);var t=function(b){s=b;switch(s){case 0:a.style.display=\n\"block\";d.style.display=\"none\";break;case 1:a.style.display=\"none\",d.style.display=\"block\"}};return{REVISION:12,domElement:f,setMode:t,begin:function(){l=Date.now()},end:function(){var b=Date.now();g=b-l;n=Math.min(n,g);o=Math.max(o,g);k.textContent=g+\" MS (\"+n+\"-\"+o+\")\";var a=Math.min(30,30-30*(g/200));e.appendChild(e.firstChild).style.height=a+\"px\";r++;b>m+1E3&&(h=Math.round(1E3*r/(b-m)),p=Math.min(p,h),q=Math.max(q,h),i.textContent=h+\" FPS (\"+p+\"-\"+q+\")\",a=Math.min(30,30-30*(h/100)),c.appendChild(c.firstChild).style.height=\na+\"px\",m=b,r=0);return b},update:function(){l=this.end()}}};\"object\"===typeof module&&(module.exports=Stats);\n","import * as Core from '../lib/core';\r\n\r\nimport Stats from 'stats-js';\r\n\r\nexport class DrawStats extends Core.System {\r\n\r\n  initialize() {\r\n\r\n    this.drawStats = new Stats();\r\n    this.drawStats.setMode(0);\r\n    this.drawStats.domElement.style.position = 'absolute';\r\n    this.drawStats.domElement.style.left = '0px';\r\n    this.drawStats.domElement.style.top = '0px';\r\n    document.body.appendChild(this.drawStats.domElement);\r\n\r\n    this.tickStats = new Stats();\r\n    this.tickStats.setMode(0);\r\n    this.tickStats.domElement.style.position = 'absolute';\r\n    this.tickStats.domElement.style.left = '0px';\r\n    this.tickStats.domElement.style.top = '55px';\r\n    document.body.appendChild(this.tickStats.domElement);\r\n\r\n  }\r\n\r\n  updateStart() { this.tickStats.begin(); }\r\n\r\n  updateEnd() { this.tickStats.end(); }\r\n\r\n  drawStart() { this.drawStats.begin(); }\r\n\r\n  drawEnd() { this.drawStats.end(); }\r\n\r\n}\r\nCore.registerSystem('DrawStats', DrawStats);\r\n","/**\n * @author mrdoob / http://mrdoob.com/\n * @author jetienne / http://jetienne.com/\n * @author paulirish / http://paulirish.com/\n */\nfunction MemoryStats(){\n\n\tvar msMin\t= 100;\n\tvar msMax\t= 0;\n\n\tvar container\t= document.createElement( 'div' );\n\tcontainer.id\t= 'stats';\n\tcontainer.style.cssText = 'width:80px;opacity:0.9;cursor:pointer';\n\n\tvar msDiv\t= document.createElement( 'div' );\n\tmsDiv.id\t= 'ms';\n\tmsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#020;';\n\tcontainer.appendChild( msDiv );\n\n\tvar msText\t= document.createElement( 'div' );\n\tmsText.id\t= 'msText';\n\tmsText.style.cssText = 'color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tmsText.innerHTML= 'Memory';\n\tmsDiv.appendChild( msText );\n\n\tvar msGraph\t= document.createElement( 'div' );\n\tmsGraph.id\t= 'msGraph';\n\tmsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0f0';\n\tmsDiv.appendChild( msGraph );\n\n\twhile ( msGraph.children.length < 74 ) {\n\n\t\tvar bar = document.createElement( 'span' );\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#131';\n\t\tmsGraph.appendChild( bar );\n\n\t}\n\n\tvar updateGraph = function ( dom, height, color ) {\n\n\t\tvar child = dom.appendChild( dom.firstChild );\n\t\tchild.style.height = height + 'px';\n\t\tif( color ) child.style.backgroundColor = color;\n\n\t}\n\n\t// polyfill usedJSHeapSize\n\tif (window.performance && !performance.memory){\n\t\tperformance.memory = { usedJSHeapSize : 0 };\n\t}\n\n\t// support of the API?\n\tif( performance.memory.totalJSHeapSize === 0 ){\n\t\tconsole.warn('totalJSHeapSize === 0... performance.memory is only available in Chrome .')\n\t}\n\n\t// TODO, add a sanity check to see if values are bucketed.\n\t// If so, reminde user to adopt the --enable-precise-memory-info flag.\n\t// open -a \"/Applications/Google Chrome.app\" --args --enable-precise-memory-info\n\n\tvar lastTime\t= Date.now();\n\tvar lastUsedHeap= performance.memory.usedJSHeapSize;\n\treturn {\n\t\tdomElement: container,\n\n\t\tupdate: function () {\n\n\t\t\t// refresh only 30time per second\n\t\t\tif( Date.now() - lastTime < 1000/30 )\treturn;\n\t\t\tlastTime\t= Date.now()\n\n\t\t\tvar delta\t= performance.memory.usedJSHeapSize - lastUsedHeap;\n\t\t\tlastUsedHeap\t= performance.memory.usedJSHeapSize;\n\t\t\tvar color\t= delta < 0 ? '#830' : '#131';\n\n\t\t\tvar ms\t= performance.memory.usedJSHeapSize;\n\t\t\tmsMin\t= Math.min( msMin, ms );\n\t\t\tmsMax\t= Math.max( msMax, ms );\n\t\t\tmsText.textContent = \"Mem: \" + bytesToSize(ms, 2);\n\n\t\t\tvar normValue\t= ms / (30*1024*1024);\n\t\t\tvar height\t= (1-(normValue% 1)) * 30;\n\t\t\tupdateGraph( msGraph, height, color);\n\n\t\t\tfunction bytesToSize( bytes, nFractDigit ){\n\t\t\t\tvar sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n\t\t\t\tif (bytes == 0) return 'n/a';\n\t\t\t\tnFractDigit\t= nFractDigit !== undefined ? nFractDigit : 0;\n\t\t\t\tvar precision\t= Math.pow(10, nFractDigit);\n\t\t\t\tvar i \t\t= Math.floor(Math.log(bytes) / Math.log(1024));\n\t\t\t\treturn Math.round(bytes*precision / Math.pow(1024, i))/precision + ' ' + sizes[i];\n\t\t\t};\n\t\t}\n\n\t}\n\n};\n\nmodule.exports = MemoryStats;\n","import * as Core from '../lib/core';\r\n\r\nimport MemoryStats from 'memory-stats';\r\n\r\nexport class MemoryStatsSystem extends Core.System {\r\n\r\n  initialize() {\r\n    this.stats = new MemoryStats();\r\n    this.stats.domElement.style.position = 'fixed';\r\n    this.stats.domElement.style.left = '85px';\r\n    this.stats.domElement.style.top = '0px';\r\n    document.body.appendChild(this.stats.domElement);\r\n  }\r\n\r\n  draw() { this.stats.update(); }\r\n\r\n}\r\nCore.registerSystem('MemoryStats', MemoryStatsSystem);\r\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/** @namespace */\nvar dat = module.exports = dat || {};\n\n/** @namespace */\ndat.gui = dat.gui || {};\n\n/** @namespace */\ndat.utils = dat.utils || {};\n\n/** @namespace */\ndat.controllers = dat.controllers || {};\n\n/** @namespace */\ndat.dom = dat.dom || {};\n\n/** @namespace */\ndat.color = dat.color || {};\n\ndat.utils.css = (function () {\n  return {\n    load: function (url, doc) {\n      doc = doc || document;\n      var link = doc.createElement('link');\n      link.type = 'text/css';\n      link.rel = 'stylesheet';\n      link.href = url;\n      doc.getElementsByTagName('head')[0].appendChild(link);\n    },\n    inject: function(css, doc) {\n      doc = doc || document;\n      var injected = document.createElement('style');\n      injected.type = 'text/css';\n      injected.innerHTML = css;\n      doc.getElementsByTagName('head')[0].appendChild(injected);\n    }\n  }\n})();\n\n\ndat.utils.common = (function () {\n  \n  var ARR_EACH = Array.prototype.forEach;\n  var ARR_SLICE = Array.prototype.slice;\n\n  /**\n   * Band-aid methods for things that should be a lot easier in JavaScript.\n   * Implementation and structure inspired by underscore.js\n   * http://documentcloud.github.com/underscore/\n   */\n\n  return { \n    \n    BREAK: {},\n  \n    extend: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (!this.isUndefined(obj[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n      \n    },\n    \n    defaults: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (this.isUndefined(target[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n    \n    },\n    \n    compose: function() {\n      var toCall = ARR_SLICE.call(arguments);\n            return function() {\n              var args = ARR_SLICE.call(arguments);\n              for (var i = toCall.length -1; i >= 0; i--) {\n                args = [toCall[i].apply(this, args)];\n              }\n              return args[0];\n            }\n    },\n    \n    each: function(obj, itr, scope) {\n\n      \n      if (ARR_EACH && obj.forEach === ARR_EACH) { \n        \n        obj.forEach(itr, scope);\n        \n      } else if (obj.length === obj.length + 0) { // Is number but not NaN\n        \n        for (var key = 0, l = obj.length; key < l; key++)\n          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) \n            return;\n            \n      } else {\n\n        for (var key in obj) \n          if (itr.call(scope, obj[key], key) === this.BREAK)\n            return;\n            \n      }\n            \n    },\n    \n    defer: function(fnc) {\n      setTimeout(fnc, 0);\n    },\n    \n    toArray: function(obj) {\n      if (obj.toArray) return obj.toArray();\n      return ARR_SLICE.call(obj);\n    },\n\n    isUndefined: function(obj) {\n      return obj === undefined;\n    },\n    \n    isNull: function(obj) {\n      return obj === null;\n    },\n    \n    isNaN: function(obj) {\n      return obj !== obj;\n    },\n    \n    isArray: Array.isArray || function(obj) {\n      return obj.constructor === Array;\n    },\n    \n    isObject: function(obj) {\n      return obj === Object(obj);\n    },\n    \n    isNumber: function(obj) {\n      return obj === obj+0;\n    },\n    \n    isString: function(obj) {\n      return obj === obj+'';\n    },\n    \n    isBoolean: function(obj) {\n      return obj === false || obj === true;\n    },\n    \n    isFunction: function(obj) {\n      return Object.prototype.toString.call(obj) === '[object Function]';\n    }\n  \n  };\n    \n})();\n\n\ndat.controllers.Controller = (function (common) {\n\n  /**\n   * @class An \"abstract\" class that represents a given property of an object.\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var Controller = function(object, property) {\n\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n\n  };\n\n  common.extend(\n\n      Controller.prototype,\n\n      /** @lends dat.controllers.Controller.prototype */\n      {\n\n        /**\n         * Specify that a function fire every time someone changes the value with\n         * this Controller.\n         *\n         * @param {Function} fnc This function will be called whenever the value\n         * is modified via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onChange: function(fnc) {\n          this.__onChange = fnc;\n          return this;\n        },\n\n        /**\n         * Specify that a function fire every time someone \"finishes\" changing\n         * the value wih this Controller. Useful for values that change\n         * incrementally like numbers or strings.\n         *\n         * @param {Function} fnc This function will be called whenever\n         * someone \"finishes\" changing the value via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onFinishChange: function(fnc) {\n          this.__onFinishChange = fnc;\n          return this;\n        },\n\n        /**\n         * Change the value of <code>object[property]</code>\n         *\n         * @param {Object} newValue The new value of <code>object[property]</code>\n         */\n        setValue: function(newValue) {\n          this.object[this.property] = newValue;\n          if (this.__onChange) {\n            this.__onChange.call(this, newValue);\n          }\n          this.updateDisplay();\n          return this;\n        },\n\n        /**\n         * Gets the value of <code>object[property]</code>\n         *\n         * @returns {Object} The current value of <code>object[property]</code>\n         */\n        getValue: function() {\n          return this.object[this.property];\n        },\n\n        /**\n         * Refreshes the visual display of a Controller in order to keep sync\n         * with the object's current value.\n         * @returns {dat.controllers.Controller} this\n         */\n        updateDisplay: function() {\n          return this;\n        },\n\n        /**\n         * @returns {Boolean} true if the value has deviated from initialValue\n         */\n        isModified: function() {\n          return this.initialValue !== this.getValue()\n        }\n\n      }\n\n  );\n\n  return Controller;\n\n\n})(dat.utils.common);\n\n\ndat.dom.dom = (function (common) {\n\n  var EVENT_MAP = {\n    'HTMLEvents': ['change'],\n    'MouseEvents': ['click','mousemove','mousedown','mouseup', 'mouseover'],\n    'KeyboardEvents': ['keydown']\n  };\n\n  var EVENT_MAP_INV = {};\n  common.each(EVENT_MAP, function(v, k) {\n    common.each(v, function(e) {\n      EVENT_MAP_INV[e] = k;\n    });\n  });\n\n  var CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\n  function cssValueToPixels(val) {\n\n    if (val === '0' || common.isUndefined(val)) return 0;\n\n    var match = val.match(CSS_VALUE_PIXELS);\n\n    if (!common.isNull(match)) {\n      return parseFloat(match[1]);\n    }\n\n    // TODO ...ems? %?\n\n    return 0;\n\n  }\n\n  /**\n   * @namespace\n   * @member dat.dom\n   */\n  var dom = {\n\n    /**\n     * \n     * @param elem\n     * @param selectable\n     */\n    makeSelectable: function(elem, selectable) {\n\n      if (elem === undefined || elem.style === undefined) return;\n\n      elem.onselectstart = selectable ? function() {\n        return false;\n      } : function() {\n      };\n\n      elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n      elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n      elem.unselectable = selectable ? 'on' : 'off';\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param horizontal\n     * @param vertical\n     */\n    makeFullscreen: function(elem, horizontal, vertical) {\n\n      if (common.isUndefined(horizontal)) horizontal = true;\n      if (common.isUndefined(vertical)) vertical = true;\n\n      elem.style.position = 'absolute';\n\n      if (horizontal) {\n        elem.style.left = 0;\n        elem.style.right = 0;\n      }\n      if (vertical) {\n        elem.style.top = 0;\n        elem.style.bottom = 0;\n      }\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param eventType\n     * @param params\n     */\n    fakeEvent: function(elem, eventType, params, aux) {\n      params = params || {};\n      var className = EVENT_MAP_INV[eventType];\n      if (!className) {\n        throw new Error('Event type ' + eventType + ' not supported.');\n      }\n      var evt = document.createEvent(className);\n      switch (className) {\n        case 'MouseEvents':\n          var clientX = params.x || params.clientX || 0;\n          var clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n              params.cancelable || true, window, params.clickCount || 1,\n              0, //screen X\n              0, //screen Y\n              clientX, //client X\n              clientY, //client Y\n              false, false, false, false, 0, null);\n          break;\n        case 'KeyboardEvents':\n          var init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n              params.cancelable, window,\n              params.ctrlKey, params.altKey,\n              params.shiftKey, params.metaKey,\n              params.keyCode, params.charCode);\n          break;\n        default:\n          evt.initEvent(eventType, params.bubbles || false,\n              params.cancelable || true);\n          break;\n      }\n      common.defaults(evt, aux);\n      elem.dispatchEvent(evt);\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    bind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.addEventListener)\n        elem.addEventListener(event, func, bool);\n      else if (elem.attachEvent)\n        elem.attachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    unbind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.removeEventListener)\n        elem.removeEventListener(event, func, bool);\n      else if (elem.detachEvent)\n        elem.detachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    addClass: function(elem, className) {\n      if (elem.className === undefined) {\n        elem.className = className;\n      } else if (elem.className !== className) {\n        var classes = elem.className.split(/ +/);\n        if (classes.indexOf(className) == -1) {\n          classes.push(className);\n          elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n        }\n      }\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    removeClass: function(elem, className) {\n      if (className) {\n        if (elem.className === undefined) {\n          // elem.className = className;\n        } else if (elem.className === className) {\n          elem.removeAttribute('class');\n        } else {\n          var classes = elem.className.split(/ +/);\n          var index = classes.indexOf(className);\n          if (index != -1) {\n            classes.splice(index, 1);\n            elem.className = classes.join(' ');\n          }\n        }\n      } else {\n        elem.className = undefined;\n      }\n      return dom;\n    },\n\n    hasClass: function(elem, className) {\n      return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getWidth: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-left-width']) +\n          cssValueToPixels(style['border-right-width']) +\n          cssValueToPixels(style['padding-left']) +\n          cssValueToPixels(style['padding-right']) +\n          cssValueToPixels(style['width']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getHeight: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-top-width']) +\n          cssValueToPixels(style['border-bottom-width']) +\n          cssValueToPixels(style['padding-top']) +\n          cssValueToPixels(style['padding-bottom']) +\n          cssValueToPixels(style['height']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getOffset: function(elem) {\n      var offset = {left: 0, top:0};\n      if (elem.offsetParent) {\n        do {\n          offset.left += elem.offsetLeft;\n          offset.top += elem.offsetTop;\n        } while (elem = elem.offsetParent);\n      }\n      return offset;\n    },\n\n    // http://stackoverflow.com/posts/2684561/revisions\n    /**\n     * \n     * @param elem\n     */\n    isActive: function(elem) {\n      return elem === document.activeElement && ( elem.type || elem.href );\n    }\n\n  };\n\n  return dom;\n\n})(dat.utils.common);\n\n\ndat.controllers.OptionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a select input to alter the property of an object, using a\n   * list of accepted values.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object|string[]} options A map of labels to acceptable values, or\n   * a list of acceptable string values.\n   *\n   * @member dat.controllers\n   */\n  var OptionController = function(object, property, options) {\n\n    OptionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      var map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n\n      var opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      var desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n\n  };\n\n  OptionController.superclass = Controller;\n\n  common.extend(\n\n      OptionController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = OptionController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          this.__select.value = this.getValue();\n          return OptionController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return OptionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberController = (function (Controller, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberController = function(object, property, params) {\n\n    NumberController.superclass.call(this, object, property);\n\n    params = params || {};\n\n    this.__min = params.min;\n    this.__max = params.max;\n    this.__step = params.step;\n\n    if (common.isUndefined(this.__step)) {\n\n      if (this.initialValue == 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue)/Math.LN10))/10;\n      }\n\n    } else {\n\n      this.__impliedStep = this.__step;\n\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n\n\n  };\n\n  NumberController.superclass = Controller;\n\n  common.extend(\n\n      NumberController.prototype,\n      Controller.prototype,\n\n      /** @lends dat.controllers.NumberController.prototype */\n      {\n\n        setValue: function(v) {\n\n          if (this.__min !== undefined && v < this.__min) {\n            v = this.__min;\n          } else if (this.__max !== undefined && v > this.__max) {\n            v = this.__max;\n          }\n\n          if (this.__step !== undefined && v % this.__step != 0) {\n            v = Math.round(v / this.__step) * this.__step;\n          }\n\n          return NumberController.superclass.prototype.setValue.call(this, v);\n\n        },\n\n        /**\n         * Specify a minimum value for <code>object[property]</code>.\n         *\n         * @param {Number} minValue The minimum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        min: function(v) {\n          this.__min = v;\n          return this;\n        },\n\n        /**\n         * Specify a maximum value for <code>object[property]</code>.\n         *\n         * @param {Number} maxValue The maximum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        max: function(v) {\n          this.__max = v;\n          return this;\n        },\n\n        /**\n         * Specify a step value that dat.controllers.NumberController\n         * increments by.\n         *\n         * @param {Number} stepValue The step value for\n         * dat.controllers.NumberController\n         * @default if minimum and maximum specified increment is 1% of the\n         * difference otherwise stepValue is 1\n         * @returns {dat.controllers.NumberController} this\n         */\n        step: function(v) {\n          this.__step = v;\n          return this;\n        }\n\n      }\n\n  );\n\n  function numDecimals(x) {\n    x = x.toString();\n    if (x.indexOf('.') > -1) {\n      return x.length - x.indexOf('.') - 1;\n    } else {\n      return 0;\n    }\n  }\n\n  return NumberController;\n\n})(dat.controllers.Controller,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerBox = (function (NumberController, dom, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number and\n   * provides an input element with which to manipulate it.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerBox = function(object, property, params) {\n\n    this.__truncationSuspended = false;\n\n    NumberControllerBox.superclass.call(this, object, property, params);\n\n    var _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    var prev_y;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n\n      // When pressing entire, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n      }\n\n    });\n\n    function onChange() {\n      var attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) _this.setValue(attempted);\n    }\n\n    function onBlur() {\n      onChange();\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prev_y = e.clientY;\n    }\n\n    function onMouseDrag(e) {\n\n      var diff = prev_y - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prev_y = e.clientY;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  NumberControllerBox.superclass = NumberController;\n\n  common.extend(\n\n      NumberControllerBox.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n          return NumberControllerBox.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  function roundToDecimal(value, decimals) {\n    var tenTo = Math.pow(10, decimals);\n    return Math.round(value * tenTo) / tenTo;\n  }\n\n  return NumberControllerBox;\n\n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerSlider = (function (NumberController, dom, css, common, styleSheet) {\n\n  /**\n   * @class Represents a given property of an object that is a number, contains\n   * a minimum and maximum, and provides a slider element with which to\n   * manipulate it. It should be noted that the slider element is made up of\n   * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n   * <code>&lt;slider&gt;</code> element.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   * \n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Number} minValue Minimum allowed value\n   * @param {Number} maxValue Maximum allowed value\n   * @param {Number} stepValue Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerSlider = function(object, property, min, max, step) {\n\n    NumberControllerSlider.superclass.call(this, object, property, { min: min, max: max, step: step });\n\n    var _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n    \n\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    \n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n\n      e.preventDefault();\n\n      var offset = dom.getOffset(_this.__background);\n      var width = dom.getWidth(_this.__background);\n      \n      _this.setValue(\n        map(e.clientX, offset.left, offset.left + width, _this.__min, _this.__max)\n      );\n\n      return false;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n\n  };\n\n  NumberControllerSlider.superclass = NumberController;\n\n  /**\n   * Injects default stylesheet for slider elements.\n   */\n  NumberControllerSlider.useDefaultStyles = function() {\n    css.inject(styleSheet);\n  };\n\n  common.extend(\n\n      NumberControllerSlider.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n          var pct = (this.getValue() - this.__min)/(this.__max - this.__min);\n          this.__foreground.style.width = pct*100+'%';\n          return NumberControllerSlider.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n\n\n  );\n\n  function map(v, i1, i2, o1, o2) {\n    return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n  }\n\n  return NumberControllerSlider;\n  \n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.css,\ndat.utils.common,\n\".slider {\\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\\n  height: 1em;\\n  border-radius: 1em;\\n  background-color: #eee;\\n  padding: 0 0.5em;\\n  overflow: hidden;\\n}\\n\\n.slider-fg {\\n  padding: 1px 0 2px 0;\\n  background-color: #aaa;\\n  height: 1em;\\n  margin-left: -0.5em;\\n  padding-right: 0.5em;\\n  border-radius: 1em 0 0 1em;\\n}\\n\\n.slider-fg:after {\\n  display: inline-block;\\n  border-radius: 1em;\\n  background-color: #fff;\\n  border:  1px solid #aaa;\\n  content: '';\\n  float: right;\\n  margin-right: -1em;\\n  margin-top: -1px;\\n  height: 0.9em;\\n  width: 0.9em;\\n}\");\n\n\ndat.controllers.FunctionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a GUI interface to fire a specified method, a property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var FunctionController = function(object, property, text) {\n\n    FunctionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n\n\n  };\n\n  FunctionController.superclass = Controller;\n\n  common.extend(\n\n      FunctionController.prototype,\n      Controller.prototype,\n      {\n        \n        fire: function() {\n          if (this.__onChange) {\n            this.__onChange.call(this);\n          }\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          this.getValue().call(this.object);\n        }\n      }\n\n  );\n\n  return FunctionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.BooleanController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a checkbox input to alter the boolean property of an object.\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var BooleanController = function(object, property) {\n\n    BooleanController.superclass.call(this, object, property);\n\n    var _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n  };\n\n  BooleanController.superclass = Controller;\n\n  common.extend(\n\n      BooleanController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = BooleanController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          this.__prev = this.getValue();\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          \n          if (this.getValue() === true) {\n            this.__checkbox.setAttribute('checked', 'checked');\n            this.__checkbox.checked = true;    \n          } else {\n              this.__checkbox.checked = false;\n          }\n\n          return BooleanController.superclass.prototype.updateDisplay.call(this);\n\n        }\n\n\n      }\n\n  );\n\n  return BooleanController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.color.toString = (function (common) {\n\n  return function(color) {\n\n    if (color.a == 1 || common.isUndefined(color.a)) {\n\n      var s = color.hex.toString(16);\n      while (s.length < 6) {\n        s = '0' + s;\n      }\n\n      return '#' + s;\n\n    } else {\n\n      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';\n\n    }\n\n  }\n\n})(dat.utils.common);\n\n\ndat.color.interpret = (function (toString, common) {\n\n  var result, toReturn;\n\n  var interpret = function() {\n\n    toReturn = false;\n\n    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n\n    common.each(INTERPRETATIONS, function(family) {\n\n      if (family.litmus(original)) {\n\n        common.each(family.conversions, function(conversion, conversionName) {\n\n          result = conversion.read(original);\n\n          if (toReturn === false && result !== false) {\n            toReturn = result;\n            result.conversionName = conversionName;\n            result.conversion = conversion;\n            return common.BREAK;\n\n          }\n\n        });\n\n        return common.BREAK;\n\n      }\n\n    });\n\n    return toReturn;\n\n  };\n\n  var INTERPRETATIONS = [\n\n    // Strings\n    {\n\n      litmus: common.isString,\n\n      conversions: {\n\n        THREE_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt(\n                  '0x' +\n                      test[1].toString() + test[1].toString() +\n                      test[2].toString() + test[2].toString() +\n                      test[3].toString() + test[3].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        SIX_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9]{6})$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt('0x' + test[1].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGB: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3])\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGBA: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3]),\n              a: parseFloat(test[4])\n            };\n\n          },\n\n          write: toString\n\n        }\n\n      }\n\n    },\n\n    // Numbers\n    {\n\n      litmus: common.isNumber,\n\n      conversions: {\n\n        HEX: {\n          read: function(original) {\n            return {\n              space: 'HEX',\n              hex: original,\n              conversionName: 'HEX'\n            }\n          },\n\n          write: function(color) {\n            return color.hex;\n          }\n        }\n\n      }\n\n    },\n\n    // Arrays\n    {\n\n      litmus: common.isArray,\n\n      conversions: {\n\n        RGB_ARRAY: {\n          read: function(original) {\n            if (original.length != 3) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b];\n          }\n\n        },\n\n        RGBA_ARRAY: {\n          read: function(original) {\n            if (original.length != 4) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2],\n              a: original[3]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b, color.a];\n          }\n\n        }\n\n      }\n\n    },\n\n    // Objects\n    {\n\n      litmus: common.isObject,\n\n      conversions: {\n\n        RGBA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b,\n              a: color.a\n            }\n          }\n        },\n\n        RGB_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b\n            }\n          }\n        },\n\n        HSVA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v,\n              a: color.a\n            }\n          }\n        },\n\n        HSV_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v\n            }\n          }\n\n        }\n\n      }\n\n    }\n\n\n  ];\n\n  return interpret;\n\n\n})(dat.color.toString,\ndat.utils.common);\n\n\ndat.GUI = dat.gui.GUI = (function (css, saveDialogueContents, styleSheet, controllerFactory, Controller, BooleanController, FunctionController, NumberControllerBox, NumberControllerSlider, OptionController, ColorController, requestAnimationFrame, CenteredDiv, dom, common) {\n\n  css.inject(styleSheet);\n\n  /** Outer-most className for GUI's */\n  var CSS_NAMESPACE = 'dg';\n\n  var HIDE_KEY_CODE = 72;\n\n  /** The only value shared between the JS and SCSS. Use caution. */\n  var CLOSE_BUTTON_HEIGHT = 20;\n\n  var DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\n  var SUPPORTS_LOCAL_STORAGE = (function() {\n    try {\n      return 'localStorage' in window && window['localStorage'] !== null;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  var SAVE_DIALOGUE;\n\n  /** Have we yet to create an autoPlace GUI? */\n  var auto_place_virgin = true;\n\n  /** Fixed position div that auto place GUI's go inside */\n  var auto_place_container;\n\n  /** Are we hiding the GUI's ? */\n  var hide = false;\n\n  /** GUI's which should be hidden */\n  var hideable_guis = [];\n\n  /**\n   * A lightweight controller library for JavaScript. It allows you to easily\n   * manipulate variables and fire functions on the fly.\n   * @class\n   *\n   * @member dat.gui\n   *\n   * @param {Object} [params]\n   * @param {String} [params.name] The name of this GUI.\n   * @param {Object} [params.load] JSON object representing the saved state of\n   * this GUI.\n   * @param {Boolean} [params.auto=true]\n   * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n   * @param {Boolean} [params.closed] If true, starts closed\n   */\n  var GUI = function(params) {\n\n    var _this = this;\n\n    /**\n     * Outermost DOM Element\n     * @type DOMElement\n     */\n    this.domElement = document.createElement('div');\n    this.__ul = document.createElement('ul');\n    this.domElement.appendChild(this.__ul);\n\n    dom.addClass(this.domElement, CSS_NAMESPACE);\n\n    /**\n     * Nested GUI's by name\n     * @ignore\n     */\n    this.__folders = {};\n\n    this.__controllers = [];\n\n    /**\n     * List of objects I'm remembering for save, only used in top level GUI\n     * @ignore\n     */\n    this.__rememberedObjects = [];\n\n    /**\n     * Maps the index of remembered objects to a map of controllers, only used\n     * in top level GUI.\n     *\n     * @private\n     * @ignore\n     *\n     * @example\n     * [\n     *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n     *  {\n     *    propertyName: Controller\n     *  }\n     * ]\n     */\n    this.__rememberedObjectIndecesToControllers = [];\n\n    this.__listening = [];\n\n    params = params || {};\n\n    // Default parameters\n    params = common.defaults(params, {\n      autoPlace: true,\n      width: GUI.DEFAULT_WIDTH\n    });\n\n    params = common.defaults(params, {\n      resizable: params.autoPlace,\n      hideable: params.autoPlace\n    });\n\n\n    if (!common.isUndefined(params.load)) {\n\n      // Explicit preset\n      if (params.preset) params.load.preset = params.preset;\n\n    } else {\n\n      params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n\n    }\n\n    if (common.isUndefined(params.parent) && params.hideable) {\n      hideable_guis.push(this);\n    }\n\n    // Only root level GUI's are resizable.\n    params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n\n    if (params.autoPlace && common.isUndefined(params.scrollable)) {\n      params.scrollable = true;\n    }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n    // Not part of params because I don't want people passing this in via\n    // constructor. Should be a 'remembered' value.\n    var use_local_storage =\n        SUPPORTS_LOCAL_STORAGE &&\n            localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n    Object.defineProperties(this,\n\n        /** @lends dat.gui.GUI.prototype */\n        {\n\n          /**\n           * The parent <code>GUI</code>\n           * @type dat.gui.GUI\n           */\n          parent: {\n            get: function() {\n              return params.parent;\n            }\n          },\n\n          scrollable: {\n            get: function() {\n              return params.scrollable;\n            }\n          },\n\n          /**\n           * Handles <code>GUI</code>'s element placement for you\n           * @type Boolean\n           */\n          autoPlace: {\n            get: function() {\n              return params.autoPlace;\n            }\n          },\n\n          /**\n           * The identifier for a set of saved values\n           * @type String\n           */\n          preset: {\n\n            get: function() {\n              if (_this.parent) {\n                return _this.getRoot().preset;\n              } else {\n                return params.load.preset;\n              }\n            },\n\n            set: function(v) {\n              if (_this.parent) {\n                _this.getRoot().preset = v;\n              } else {\n                params.load.preset = v;\n              }\n              setPresetSelectIndex(this);\n              _this.revert();\n            }\n\n          },\n\n          /**\n           * The width of <code>GUI</code> element\n           * @type Number\n           */\n          width: {\n            get: function() {\n              return params.width;\n            },\n            set: function(v) {\n              params.width = v;\n              setWidth(_this, v);\n            }\n          },\n\n          /**\n           * The name of <code>GUI</code>. Used for folders. i.e\n           * a folder's name\n           * @type String\n           */\n          name: {\n            get: function() {\n              return params.name;\n            },\n            set: function(v) {\n              // TODO Check for collisions among sibling folders\n              params.name = v;\n              if (title_row_name) {\n                title_row_name.innerHTML = params.name;\n              }\n            }\n          },\n\n          /**\n           * Whether the <code>GUI</code> is collapsed or not\n           * @type Boolean\n           */\n          closed: {\n            get: function() {\n              return params.closed;\n            },\n            set: function(v) {\n              params.closed = v;\n              if (params.closed) {\n                dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n              } else {\n                dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n              }\n              // For browsers that aren't going to respect the CSS transition,\n              // Lets just check our height against the window height right off\n              // the bat.\n              this.onResize();\n\n              if (_this.__closeButton) {\n                _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n              }\n            }\n          },\n\n          /**\n           * Contains all presets\n           * @type Object\n           */\n          load: {\n            get: function() {\n              return params.load;\n            }\n          },\n\n          /**\n           * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n           * <code>remember</code>ing\n           * @type Boolean\n           */\n          useLocalStorage: {\n\n            get: function() {\n              return use_local_storage;\n            },\n            set: function(bool) {\n              if (SUPPORTS_LOCAL_STORAGE) {\n                use_local_storage = bool;\n                if (bool) {\n                  dom.bind(window, 'unload', saveToLocalStorage);\n                } else {\n                  dom.unbind(window, 'unload', saveToLocalStorage);\n                }\n                localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n              }\n            }\n\n          }\n\n        });\n\n    // Are we a root level GUI?\n    if (common.isUndefined(params.parent)) {\n\n      params.closed = false;\n\n      dom.addClass(this.domElement, GUI.CLASS_MAIN);\n      dom.makeSelectable(this.domElement, false);\n\n      // Are we supposed to be loading locally?\n      if (SUPPORTS_LOCAL_STORAGE) {\n\n        if (use_local_storage) {\n\n          _this.useLocalStorage = true;\n\n          var saved_gui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n          if (saved_gui) {\n            params.load = JSON.parse(saved_gui);\n          }\n\n        }\n\n      }\n\n      this.__closeButton = document.createElement('div');\n      this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n      this.domElement.appendChild(this.__closeButton);\n\n      dom.bind(this.__closeButton, 'click', function() {\n\n        _this.closed = !_this.closed;\n\n\n      });\n\n\n      // Oh, you're a nested GUI!\n    } else {\n\n      if (params.closed === undefined) {\n        params.closed = true;\n      }\n\n      var title_row_name = document.createTextNode(params.name);\n      dom.addClass(title_row_name, 'controller-name');\n\n      var title_row = addRow(_this, title_row_name);\n\n      var on_click_title = function(e) {\n        e.preventDefault();\n        _this.closed = !_this.closed;\n        return false;\n      };\n\n      dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n      dom.addClass(title_row, 'title');\n      dom.bind(title_row, 'click', on_click_title);\n\n      if (!params.closed) {\n        this.closed = false;\n      }\n\n    }\n\n    if (params.autoPlace) {\n\n      if (common.isUndefined(params.parent)) {\n\n        if (auto_place_virgin) {\n          auto_place_container = document.createElement('div');\n          dom.addClass(auto_place_container, CSS_NAMESPACE);\n          dom.addClass(auto_place_container, GUI.CLASS_AUTO_PLACE_CONTAINER);\n          document.body.appendChild(auto_place_container);\n          auto_place_virgin = false;\n        }\n\n        // Put it in the dom for you.\n        auto_place_container.appendChild(this.domElement);\n\n        // Apply the auto styles\n        dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n\n      }\n\n\n      // Make it not elastic.\n      if (!this.parent) setWidth(_this, params.width);\n\n    }\n\n    dom.bind(window, 'resize', function() { _this.onResize() });\n    dom.bind(this.__ul, 'webkitTransitionEnd', function() { _this.onResize(); });\n    dom.bind(this.__ul, 'transitionend', function() { _this.onResize() });\n    dom.bind(this.__ul, 'oTransitionEnd', function() { _this.onResize() });\n    this.onResize();\n\n\n    if (params.resizable) {\n      addResizeHandle(this);\n    }\n\n    function saveToLocalStorage() {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n\n    var root = _this.getRoot();\n    function resetWidth() {\n        var root = _this.getRoot();\n        root.width += 1;\n        common.defer(function() {\n          root.width -= 1;\n        });\n      }\n\n      if (!params.parent) {\n        resetWidth();\n      }\n\n  };\n\n  GUI.toggleHide = function() {\n\n    hide = !hide;\n    common.each(hideable_guis, function(gui) {\n      gui.domElement.style.zIndex = hide ? -999 : 999;\n      gui.domElement.style.opacity = hide ? 0 : 1;\n    });\n  };\n\n  GUI.CLASS_AUTO_PLACE = 'a';\n  GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\n  GUI.CLASS_MAIN = 'main';\n  GUI.CLASS_CONTROLLER_ROW = 'cr';\n  GUI.CLASS_TOO_TALL = 'taller-than-window';\n  GUI.CLASS_CLOSED = 'closed';\n  GUI.CLASS_CLOSE_BUTTON = 'close-button';\n  GUI.CLASS_DRAG = 'drag';\n\n  GUI.DEFAULT_WIDTH = 245;\n  GUI.TEXT_CLOSED = 'Close Controls';\n  GUI.TEXT_OPEN = 'Open Controls';\n\n  dom.bind(window, 'keydown', function(e) {\n\n    if (document.activeElement.type !== 'text' &&\n        (e.which === HIDE_KEY_CODE || e.keyCode == HIDE_KEY_CODE)) {\n      GUI.toggleHide();\n    }\n\n  }, false);\n\n  common.extend(\n\n      GUI.prototype,\n\n      /** @lends dat.gui.GUI */\n      {\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.Controller} The new controller that was added.\n         * @instance\n         */\n        add: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\n              }\n          );\n\n        },\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.ColorController} The new controller that was added.\n         * @instance\n         */\n        addColor: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                color: true\n              }\n          );\n\n        },\n\n        /**\n         * @param controller\n         * @instance\n         */\n        remove: function(controller) {\n\n          // TODO listening?\n          this.__ul.removeChild(controller.__li);\n          this.__controllers.slice(this.__controllers.indexOf(controller), 1);\n          var _this = this;\n          common.defer(function() {\n            _this.onResize();\n          });\n\n        },\n\n        destroy: function() {\n\n          if (this.autoPlace) {\n            auto_place_container.removeChild(this.domElement);\n          }\n\n        },\n\n        /**\n         * @param name\n         * @returns {dat.gui.GUI} The new folder.\n         * @throws {Error} if this GUI already has a folder by the specified\n         * name\n         * @instance\n         */\n        addFolder: function(name) {\n\n          // We have to prevent collisions on names in order to have a key\n          // by which to remember saved values\n          if (this.__folders[name] !== undefined) {\n            throw new Error('You already have a folder in this GUI by the' +\n                ' name \"' + name + '\"');\n          }\n\n          var new_gui_params = { name: name, parent: this };\n\n          // We need to pass down the autoPlace trait so that we can\n          // attach event listeners to open/close folder actions to\n          // ensure that a scrollbar appears if the window is too short.\n          new_gui_params.autoPlace = this.autoPlace;\n\n          // Do we have saved appearance data for this folder?\n\n          if (this.load && // Anything loaded?\n              this.load.folders && // Was my parent a dead-end?\n              this.load.folders[name]) { // Did daddy remember me?\n\n            // Start me closed if I was closed\n            new_gui_params.closed = this.load.folders[name].closed;\n\n            // Pass down the loaded data\n            new_gui_params.load = this.load.folders[name];\n\n          }\n\n          var gui = new GUI(new_gui_params);\n          this.__folders[name] = gui;\n\n          var li = addRow(this, gui.domElement);\n          dom.addClass(li, 'folder');\n          return gui;\n\n        },\n\n        open: function() {\n          this.closed = false;\n        },\n\n        close: function() {\n          this.closed = true;\n        },\n\n        onResize: function() {\n\n          var root = this.getRoot();\n\n          if (root.scrollable) {\n\n            var top = dom.getOffset(root.__ul).top;\n            var h = 0;\n\n            common.each(root.__ul.childNodes, function(node) {\n              if (! (root.autoPlace && node === root.__save_row))\n                h += dom.getHeight(node);\n            });\n\n            if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n              dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n            } else {\n              dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = 'auto';\n            }\n\n          }\n\n          if (root.__resize_handle) {\n            common.defer(function() {\n              root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n            });\n          }\n\n          if (root.__closeButton) {\n            root.__closeButton.style.width = root.width + 'px';\n          }\n\n        },\n\n        /**\n         * Mark objects for saving. The order of these objects cannot change as\n         * the GUI grows. When remembering new objects, append them to the end\n         * of the list.\n         *\n         * @param {Object...} objects\n         * @throws {Error} if not called on a top level GUI.\n         * @instance\n         */\n        remember: function() {\n\n          if (common.isUndefined(SAVE_DIALOGUE)) {\n            SAVE_DIALOGUE = new CenteredDiv();\n            SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n          }\n\n          if (this.parent) {\n            throw new Error(\"You can only call remember on a top level GUI.\");\n          }\n\n          var _this = this;\n\n          common.each(Array.prototype.slice.call(arguments), function(object) {\n            if (_this.__rememberedObjects.length == 0) {\n              addSaveMenu(_this);\n            }\n            if (_this.__rememberedObjects.indexOf(object) == -1) {\n              _this.__rememberedObjects.push(object);\n            }\n          });\n\n          if (this.autoPlace) {\n            // Set save row width\n            setWidth(this, this.width);\n          }\n\n        },\n\n        /**\n         * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n         * @instance\n         */\n        getRoot: function() {\n          var gui = this;\n          while (gui.parent) {\n            gui = gui.parent;\n          }\n          return gui;\n        },\n\n        /**\n         * @returns {Object} a JSON object representing the current state of\n         * this GUI as well as its remembered properties.\n         * @instance\n         */\n        getSaveObject: function() {\n\n          var toReturn = this.load;\n\n          toReturn.closed = this.closed;\n\n          // Am I remembering any values?\n          if (this.__rememberedObjects.length > 0) {\n\n            toReturn.preset = this.preset;\n\n            if (!toReturn.remembered) {\n              toReturn.remembered = {};\n            }\n\n            toReturn.remembered[this.preset] = getCurrentPreset(this);\n\n          }\n\n          toReturn.folders = {};\n          common.each(this.__folders, function(element, key) {\n            toReturn.folders[key] = element.getSaveObject();\n          });\n\n          return toReturn;\n\n        },\n\n        save: function() {\n\n          if (!this.load.remembered) {\n            this.load.remembered = {};\n          }\n\n          this.load.remembered[this.preset] = getCurrentPreset(this);\n          markPresetModified(this, false);\n\n        },\n\n        saveAs: function(presetName) {\n\n          if (!this.load.remembered) {\n\n            // Retain default values upon first save\n            this.load.remembered = {};\n            this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n\n          }\n\n          this.load.remembered[presetName] = getCurrentPreset(this);\n          this.preset = presetName;\n          addPresetOption(this, presetName, true);\n\n        },\n\n        revert: function(gui) {\n\n          common.each(this.__controllers, function(controller) {\n            // Make revert work on Default.\n            if (!this.getRoot().load.remembered) {\n              controller.setValue(controller.initialValue);\n            } else {\n              recallSavedValue(gui || this.getRoot(), controller);\n            }\n          }, this);\n\n          common.each(this.__folders, function(folder) {\n            folder.revert(folder);\n          });\n\n          if (!gui) {\n            markPresetModified(this.getRoot(), false);\n          }\n\n\n        },\n\n        listen: function(controller) {\n\n          var init = this.__listening.length == 0;\n          this.__listening.push(controller);\n          if (init) updateDisplays(this.__listening);\n\n        }\n\n      }\n\n  );\n\n  function add(gui, object, property, params) {\n\n    if (object[property] === undefined) {\n      throw new Error(\"Object \" + object + \" has no property \\\"\" + property + \"\\\"\");\n    }\n\n    var controller;\n\n    if (params.color) {\n\n      controller = new ColorController(object, property);\n\n    } else {\n\n      var factoryArgs = [object,property].concat(params.factoryArgs);\n      controller = controllerFactory.apply(gui, factoryArgs);\n\n    }\n\n    if (params.before instanceof Controller) {\n      params.before = params.before.__li;\n    }\n\n    recallSavedValue(gui, controller);\n\n    dom.addClass(controller.domElement, 'c');\n\n    var name = document.createElement('span');\n    dom.addClass(name, 'property-name');\n    name.innerHTML = controller.property;\n\n    var container = document.createElement('div');\n    container.appendChild(name);\n    container.appendChild(controller.domElement);\n\n    var li = addRow(gui, container, params.before);\n\n    dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n    dom.addClass(li, typeof controller.getValue());\n\n    augmentController(gui, li, controller);\n\n    gui.__controllers.push(controller);\n\n    return controller;\n\n  }\n\n  /**\n   * Add a row to the end of the GUI or before another row.\n   *\n   * @param gui\n   * @param [dom] If specified, inserts the dom content in the new row\n   * @param [liBefore] If specified, places the new row before another row\n   */\n  function addRow(gui, dom, liBefore) {\n    var li = document.createElement('li');\n    if (dom) li.appendChild(dom);\n    if (liBefore) {\n      gui.__ul.insertBefore(li, params.before);\n    } else {\n      gui.__ul.appendChild(li);\n    }\n    gui.onResize();\n    return li;\n  }\n\n  function augmentController(gui, li, controller) {\n\n    controller.__li = li;\n    controller.__gui = gui;\n\n    common.extend(controller, {\n\n      options: function(options) {\n\n        if (arguments.length > 1) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [common.toArray(arguments)]\n              }\n          );\n\n        }\n\n        if (common.isArray(options) || common.isObject(options)) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [options]\n              }\n          );\n\n        }\n\n      },\n\n      name: function(v) {\n        controller.__li.firstElementChild.firstElementChild.innerHTML = v;\n        return controller;\n      },\n\n      listen: function() {\n        controller.__gui.listen(controller);\n        return controller;\n      },\n\n      remove: function() {\n        controller.__gui.remove(controller);\n        return controller;\n      }\n\n    });\n\n    // All sliders should be accompanied by a box.\n    if (controller instanceof NumberControllerSlider) {\n\n      var box = new NumberControllerBox(controller.object, controller.property,\n          { min: controller.__min, max: controller.__max, step: controller.__step });\n\n      common.each(['updateDisplay', 'onChange', 'onFinishChange'], function(method) {\n        var pc = controller[method];\n        var pb = box[method];\n        controller[method] = box[method] = function() {\n          var args = Array.prototype.slice.call(arguments);\n          pc.apply(controller, args);\n          return pb.apply(box, args);\n        }\n      });\n\n      dom.addClass(li, 'has-slider');\n      controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n\n    }\n    else if (controller instanceof NumberControllerBox) {\n\n      var r = function(returned) {\n\n        // Have we defined both boundaries?\n        if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n\n          // Well, then lets just replace this with a slider.\n          controller.remove();\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [controller.__min, controller.__max, controller.__step]\n              });\n\n        }\n\n        return returned;\n\n      };\n\n      controller.min = common.compose(r, controller.min);\n      controller.max = common.compose(r, controller.max);\n\n    }\n    else if (controller instanceof BooleanController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__checkbox, 'click');\n      });\n\n      dom.bind(controller.__checkbox, 'click', function(e) {\n        e.stopPropagation(); // Prevents double-toggle\n      })\n\n    }\n    else if (controller instanceof FunctionController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__button, 'click');\n      });\n\n      dom.bind(li, 'mouseover', function() {\n        dom.addClass(controller.__button, 'hover');\n      });\n\n      dom.bind(li, 'mouseout', function() {\n        dom.removeClass(controller.__button, 'hover');\n      });\n\n    }\n    else if (controller instanceof ColorController) {\n\n      dom.addClass(li, 'color');\n      controller.updateDisplay = common.compose(function(r) {\n        li.style.borderLeftColor = controller.__color.toString();\n        return r;\n      }, controller.updateDisplay);\n\n      controller.updateDisplay();\n\n    }\n\n    controller.setValue = common.compose(function(r) {\n      if (gui.getRoot().__preset_select && controller.isModified()) {\n        markPresetModified(gui.getRoot(), true);\n      }\n      return r;\n    }, controller.setValue);\n\n  }\n\n  function recallSavedValue(gui, controller) {\n\n    // Find the topmost GUI, that's where remembered objects live.\n    var root = gui.getRoot();\n\n    // Does the object we're controlling match anything we've been told to\n    // remember?\n    var matched_index = root.__rememberedObjects.indexOf(controller.object);\n\n    // Why yes, it does!\n    if (matched_index != -1) {\n\n      // Let me fetch a map of controllers for thcommon.isObject.\n      var controller_map =\n          root.__rememberedObjectIndecesToControllers[matched_index];\n\n      // Ohp, I believe this is the first controller we've created for this\n      // object. Lets make the map fresh.\n      if (controller_map === undefined) {\n        controller_map = {};\n        root.__rememberedObjectIndecesToControllers[matched_index] =\n            controller_map;\n      }\n\n      // Keep track of this controller\n      controller_map[controller.property] = controller;\n\n      // Okay, now have we saved any values for this controller?\n      if (root.load && root.load.remembered) {\n\n        var preset_map = root.load.remembered;\n\n        // Which preset are we trying to load?\n        var preset;\n\n        if (preset_map[gui.preset]) {\n\n          preset = preset_map[gui.preset];\n\n        } else if (preset_map[DEFAULT_DEFAULT_PRESET_NAME]) {\n\n          // Uhh, you can have the default instead?\n          preset = preset_map[DEFAULT_DEFAULT_PRESET_NAME];\n\n        } else {\n\n          // Nada.\n\n          return;\n\n        }\n\n\n        // Did the loaded object remember thcommon.isObject?\n        if (preset[matched_index] &&\n\n          // Did we remember this particular property?\n            preset[matched_index][controller.property] !== undefined) {\n\n          // We did remember something for this guy ...\n          var value = preset[matched_index][controller.property];\n\n          // And that's what it is.\n          controller.initialValue = value;\n          controller.setValue(value);\n\n        }\n\n      }\n\n    }\n\n  }\n\n  function getLocalStorageHash(gui, key) {\n    // TODO how does this deal with multiple GUI's?\n    return document.location.href + '.' + key;\n\n  }\n\n  function addSaveMenu(gui) {\n\n    var div = gui.__save_row = document.createElement('li');\n\n    dom.addClass(gui.domElement, 'has-save');\n\n    gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n    dom.addClass(div, 'save-row');\n\n    var gears = document.createElement('span');\n    gears.innerHTML = '&nbsp;';\n    dom.addClass(gears, 'button gears');\n\n    // TODO replace with FunctionController\n    var button = document.createElement('span');\n    button.innerHTML = 'Save';\n    dom.addClass(button, 'button');\n    dom.addClass(button, 'save');\n\n    var button2 = document.createElement('span');\n    button2.innerHTML = 'New';\n    dom.addClass(button2, 'button');\n    dom.addClass(button2, 'save-as');\n\n    var button3 = document.createElement('span');\n    button3.innerHTML = 'Revert';\n    dom.addClass(button3, 'button');\n    dom.addClass(button3, 'revert');\n\n    var select = gui.__preset_select = document.createElement('select');\n\n    if (gui.load && gui.load.remembered) {\n\n      common.each(gui.load.remembered, function(value, key) {\n        addPresetOption(gui, key, key == gui.preset);\n      });\n\n    } else {\n      addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n    }\n\n    dom.bind(select, 'change', function() {\n\n\n      for (var index = 0; index < gui.__preset_select.length; index++) {\n        gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n      }\n\n      gui.preset = this.value;\n\n    });\n\n    div.appendChild(select);\n    div.appendChild(gears);\n    div.appendChild(button);\n    div.appendChild(button2);\n    div.appendChild(button3);\n\n    if (SUPPORTS_LOCAL_STORAGE) {\n\n      var saveLocally = document.getElementById('dg-save-locally');\n      var explain = document.getElementById('dg-local-explain');\n\n      saveLocally.style.display = 'block';\n\n      var localStorageCheckBox = document.getElementById('dg-local-storage');\n\n      if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n        localStorageCheckBox.setAttribute('checked', 'checked');\n      }\n\n      function showHideExplain() {\n        explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n      }\n\n      showHideExplain();\n\n      // TODO: Use a boolean controller, fool!\n      dom.bind(localStorageCheckBox, 'change', function() {\n        gui.useLocalStorage = !gui.useLocalStorage;\n        showHideExplain();\n      });\n\n    }\n\n    var newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n    dom.bind(newConstructorTextArea, 'keydown', function(e) {\n      if (e.metaKey && (e.which === 67 || e.keyCode == 67)) {\n        SAVE_DIALOGUE.hide();\n      }\n    });\n\n    dom.bind(gears, 'click', function() {\n      newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n      SAVE_DIALOGUE.show();\n      newConstructorTextArea.focus();\n      newConstructorTextArea.select();\n    });\n\n    dom.bind(button, 'click', function() {\n      gui.save();\n    });\n\n    dom.bind(button2, 'click', function() {\n      var presetName = prompt('Enter a new preset name.');\n      if (presetName) gui.saveAs(presetName);\n    });\n\n    dom.bind(button3, 'click', function() {\n      gui.revert();\n    });\n\n//    div.appendChild(button2);\n\n  }\n\n  function addResizeHandle(gui) {\n\n    gui.__resize_handle = document.createElement('div');\n\n    common.extend(gui.__resize_handle.style, {\n\n      width: '6px',\n      marginLeft: '-3px',\n      height: '200px',\n      cursor: 'ew-resize',\n      position: 'absolute'\n//      border: '1px solid blue'\n\n    });\n\n    var pmouseX;\n\n    dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n    dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n    gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n\n    function dragStart(e) {\n\n      e.preventDefault();\n\n      pmouseX = e.clientX;\n\n      dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.bind(window, 'mousemove', drag);\n      dom.bind(window, 'mouseup', dragStop);\n\n      return false;\n\n    }\n\n    function drag(e) {\n\n      e.preventDefault();\n\n      gui.width += pmouseX - e.clientX;\n      gui.onResize();\n      pmouseX = e.clientX;\n\n      return false;\n\n    }\n\n    function dragStop() {\n\n      dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.unbind(window, 'mousemove', drag);\n      dom.unbind(window, 'mouseup', dragStop);\n\n    }\n\n  }\n\n  function setWidth(gui, w) {\n    gui.domElement.style.width = w + 'px';\n    // Auto placed save-rows are position fixed, so we have to\n    // set the width manually if we want it to bleed to the edge\n    if (gui.__save_row && gui.autoPlace) {\n      gui.__save_row.style.width = w + 'px';\n    }if (gui.__closeButton) {\n      gui.__closeButton.style.width = w + 'px';\n    }\n  }\n\n  function getCurrentPreset(gui, useInitialValues) {\n\n    var toReturn = {};\n\n    // For each object I'm remembering\n    common.each(gui.__rememberedObjects, function(val, index) {\n\n      var saved_values = {};\n\n      // The controllers I've made for thcommon.isObject by property\n      var controller_map =\n          gui.__rememberedObjectIndecesToControllers[index];\n\n      // Remember each value for each property\n      common.each(controller_map, function(controller, property) {\n        saved_values[property] = useInitialValues ? controller.initialValue : controller.getValue();\n      });\n\n      // Save the values for thcommon.isObject\n      toReturn[index] = saved_values;\n\n    });\n\n    return toReturn;\n\n  }\n\n  function addPresetOption(gui, name, setSelected) {\n    var opt = document.createElement('option');\n    opt.innerHTML = name;\n    opt.value = name;\n    gui.__preset_select.appendChild(opt);\n    if (setSelected) {\n      gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n    }\n  }\n\n  function setPresetSelectIndex(gui) {\n    for (var index = 0; index < gui.__preset_select.length; index++) {\n      if (gui.__preset_select[index].value == gui.preset) {\n        gui.__preset_select.selectedIndex = index;\n      }\n    }\n  }\n\n  function markPresetModified(gui, modified) {\n    var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n//    console.log('mark', modified, opt);\n    if (modified) {\n      opt.innerHTML = opt.value + \"*\";\n    } else {\n      opt.innerHTML = opt.value;\n    }\n  }\n\n  function updateDisplays(controllerArray) {\n\n\n    if (controllerArray.length != 0) {\n\n      requestAnimationFrame(function() {\n        updateDisplays(controllerArray);\n      });\n\n    }\n\n    common.each(controllerArray, function(c) {\n      c.updateDisplay();\n    });\n\n  }\n\n  return GUI;\n\n})(dat.utils.css,\n\"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n      \\n    </div>\\n    \\n  </div>\\n\\n</div>\",\n\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\",\ndat.controllers.factory = (function (OptionController, NumberControllerBox, NumberControllerSlider, StringController, FunctionController, BooleanController, common) {\n\n      return function(object, property) {\n\n        var initialValue = object[property];\n\n        // Providing options?\n        if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n          return new OptionController(object, property, arguments[2]);\n        }\n\n        // Providing a map?\n\n        if (common.isNumber(initialValue)) {\n\n          if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n\n            // Has min and max.\n            return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n\n          } else {\n\n            return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n\n          }\n\n        }\n\n        if (common.isString(initialValue)) {\n          return new StringController(object, property);\n        }\n\n        if (common.isFunction(initialValue)) {\n          return new FunctionController(object, property, '');\n        }\n\n        if (common.isBoolean(initialValue)) {\n          return new BooleanController(object, property);\n        }\n\n      }\n\n    })(dat.controllers.OptionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.StringController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a text input to alter the string property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var StringController = function(object, property) {\n\n    StringController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n    \n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  StringController.superclass = Controller;\n\n  common.extend(\n\n      StringController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n          // Stops the caret from moving on account of:\n          // keyup -> setValue -> updateDisplay\n          if (!dom.isActive(this.__input)) {\n            this.__input.value = this.getValue();\n          }\n          return StringController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return StringController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common),\ndat.controllers.FunctionController,\ndat.controllers.BooleanController,\ndat.utils.common),\ndat.controllers.Controller,\ndat.controllers.BooleanController,\ndat.controllers.FunctionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.OptionController,\ndat.controllers.ColorController = (function (Controller, dom, Color, interpret, common) {\n\n  var ColorController = function(object, property) {\n\n    ColorController.superclass.call(this, object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    var _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(e) {\n\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(e) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n\n    });\n\n    var value_field = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < .5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n    \n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(value_field.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n    \n    linearGradient(value_field, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      display: 'inline-block',\n      border: '1px solid #555',\n      cursor: 'ns-resize'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', function(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'mouseup', unbindH);\n    });\n\n    function fieldDown(e) {\n      setSV(e);\n      // document.body.style.cursor = 'none';\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'mouseup', unbindSV);\n    }\n\n    function unbindSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'mouseup', unbindSV);\n      // document.body.style.cursor = 'default';\n    }\n\n    function onBlur() {\n      var i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function unbindH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'mouseup', unbindH);\n    }\n\n    this.__saturation_field.appendChild(value_field);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n\n      e.preventDefault();\n\n      var w = dom.getWidth(_this.__saturation_field);\n      var o = dom.getOffset(_this.__saturation_field);\n      var s = (e.clientX - o.left + document.body.scrollLeft) / w;\n      var v = 1 - (e.clientY - o.top + document.body.scrollTop) / w;\n\n      if (v > 1) v = 1;\n      else if (v < 0) v = 0;\n\n      if (s > 1) s = 1;\n      else if (s < 0) s = 0;\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n\n    }\n\n    function setH(e) {\n\n      e.preventDefault();\n\n      var s = dom.getHeight(_this.__hue_field);\n      var o = dom.getOffset(_this.__hue_field);\n      var h = 1 - (e.clientY - o.top + document.body.scrollTop) / s;\n\n      if (h > 1) h = 1;\n      else if (h < 0) h = 0;\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n\n    }\n\n  };\n\n  ColorController.superclass = Controller;\n\n  common.extend(\n\n      ColorController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          var i = interpret(this.getValue());\n\n          if (i !== false) {\n\n            var mismatch = false;\n\n            // Check for mismatch on the interpreted value.\n\n            common.each(Color.COMPONENTS, function(component) {\n              if (!common.isUndefined(i[component]) &&\n                  !common.isUndefined(this.__color.__state[component]) &&\n                  i[component] !== this.__color.__state[component]) {\n                mismatch = true;\n                return {}; // break\n              }\n            }, this);\n\n            // If nothing diverges, we keep our previous values\n            // for statefulness, otherwise we recalculate fresh\n            if (mismatch) {\n              common.extend(this.__color.__state, i);\n            }\n\n          }\n\n          common.extend(this.__temp.__state, this.__color.__state);\n\n          this.__temp.a = 1;\n\n          var flip = (this.__color.v < .5 || this.__color.s > .5) ? 255 : 0;\n          var _flip = 255 - flip;\n\n          common.extend(this.__field_knob.style, {\n            marginLeft: 100 * this.__color.s - 7 + 'px',\n            marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n            backgroundColor: this.__temp.toString(),\n            border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip +')'\n          });\n\n          this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px'\n\n          this.__temp.s = 1;\n          this.__temp.v = 1;\n\n          linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toString());\n\n          common.extend(this.__input.style, {\n            backgroundColor: this.__input.value = this.__color.toString(),\n            color: 'rgb(' + flip + ',' + flip + ',' + flip +')',\n            textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip +',.7)'\n          });\n\n        }\n\n      }\n\n  );\n  \n  var vendors = ['-moz-','-o-','-webkit-','-ms-',''];\n  \n  function linearGradient(elem, x, a, b) {\n    elem.style.background = '';\n    common.each(vendors, function(vendor) {\n      elem.style.cssText += 'background: ' + vendor + 'linear-gradient('+x+', '+a+' 0%, ' + b + ' 100%); ';\n    });\n  }\n  \n  function hueGradient(elem) {\n    elem.style.background = '';\n    elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);'\n    elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n  }\n\n\n  return ColorController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.color.Color = (function (interpret, math, toString, common) {\n\n  var Color = function() {\n\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw 'Failed to interpret color arguments';\n    }\n\n    this.__state.a = this.__state.a || 1;\n\n\n  };\n\n  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];\n\n  common.extend(Color.prototype, {\n\n    toString: function() {\n      return toString(this);\n    },\n\n    toOriginal: function() {\n      return this.__state.conversion.write(this);\n    }\n\n  });\n\n  defineRGBComponent(Color.prototype, 'r', 2);\n  defineRGBComponent(Color.prototype, 'g', 1);\n  defineRGBComponent(Color.prototype, 'b', 0);\n\n  defineHSVComponent(Color.prototype, 'h');\n  defineHSVComponent(Color.prototype, 's');\n  defineHSVComponent(Color.prototype, 'v');\n\n  Object.defineProperty(Color.prototype, 'a', {\n\n    get: function() {\n      return this.__state.a;\n    },\n\n    set: function(v) {\n      this.__state.a = v;\n    }\n\n  });\n\n  Object.defineProperty(Color.prototype, 'hex', {\n\n    get: function() {\n\n      if (!this.__state.space !== 'HEX') {\n        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      }\n\n      return this.__state.hex;\n\n    },\n\n    set: function(v) {\n\n      this.__state.space = 'HEX';\n      this.__state.hex = v;\n\n    }\n\n  });\n\n  function defineRGBComponent(target, component, componentHexIndex) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'RGB') {\n          return this.__state[component];\n        }\n\n        recalculateRGB(this, component, componentHexIndex);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'RGB') {\n          recalculateRGB(this, component, componentHexIndex);\n          this.__state.space = 'RGB';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function defineHSVComponent(target, component) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'HSV')\n          return this.__state[component];\n\n        recalculateHSV(this);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'HSV') {\n          recalculateHSV(this);\n          this.__state.space = 'HSV';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function recalculateRGB(color, component, componentHexIndex) {\n\n    if (color.__state.space === 'HEX') {\n\n      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n\n    } else if (color.__state.space === 'HSV') {\n\n      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n\n    } else {\n\n      throw 'Corrupted color state';\n\n    }\n\n  }\n\n  function recalculateHSV(color) {\n\n    var result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n    common.extend(color.__state,\n        {\n          s: result.s,\n          v: result.v\n        }\n    );\n\n    if (!common.isNaN(result.h)) {\n      color.__state.h = result.h;\n    } else if (common.isUndefined(color.__state.h)) {\n      color.__state.h = 0;\n    }\n\n  }\n\n  return Color;\n\n})(dat.color.interpret,\ndat.color.math = (function () {\n\n  var tmpComponent;\n\n  return {\n\n    hsv_to_rgb: function(h, s, v) {\n\n      var hi = Math.floor(h / 60) % 6;\n\n      var f = h / 60 - Math.floor(h / 60);\n      var p = v * (1.0 - s);\n      var q = v * (1.0 - (f * s));\n      var t = v * (1.0 - ((1.0 - f) * s));\n      var c = [\n        [v, t, p],\n        [q, v, p],\n        [p, v, t],\n        [p, q, v],\n        [t, p, v],\n        [v, p, q]\n      ][hi];\n\n      return {\n        r: c[0] * 255,\n        g: c[1] * 255,\n        b: c[2] * 255\n      };\n\n    },\n\n    rgb_to_hsv: function(r, g, b) {\n\n      var min = Math.min(r, g, b),\n          max = Math.max(r, g, b),\n          delta = max - min,\n          h, s;\n\n      if (max != 0) {\n        s = delta / max;\n      } else {\n        return {\n          h: NaN,\n          s: 0,\n          v: 0\n        };\n      }\n\n      if (r == max) {\n        h = (g - b) / delta;\n      } else if (g == max) {\n        h = 2 + (b - r) / delta;\n      } else {\n        h = 4 + (r - g) / delta;\n      }\n      h /= 6;\n      if (h < 0) {\n        h += 1;\n      }\n\n      return {\n        h: h * 360,\n        s: s,\n        v: max / 255\n      };\n    },\n\n    rgb_to_hex: function(r, g, b) {\n      var hex = this.hex_with_component(0, 2, r);\n      hex = this.hex_with_component(hex, 1, g);\n      hex = this.hex_with_component(hex, 0, b);\n      return hex;\n    },\n\n    component_from_hex: function(hex, componentIndex) {\n      return (hex >> (componentIndex * 8)) & 0xFF;\n    },\n\n    hex_with_component: function(hex, componentIndex, value) {\n      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));\n    }\n\n  }\n\n})(),\ndat.color.toString,\ndat.utils.common),\ndat.color.interpret,\ndat.utils.common),\ndat.utils.requestAnimationFrame = (function () {\n\n  /**\n   * requirejs version of Paul Irish's RequestAnimationFrame\n   * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n   */\n\n  return window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function(callback, element) {\n\n        window.setTimeout(callback, 1000 / 60);\n\n      };\n})(),\ndat.dom.CenteredDiv = (function (dom, common) {\n\n\n  var CenteredDiv = function() {\n\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    var _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n\n\n  };\n\n  CenteredDiv.prototype.show = function() {\n\n    var _this = this;\n    \n\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n\n  };\n\n  CenteredDiv.prototype.hide = function() {\n\n    var _this = this;\n\n    var hide = function() {\n\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n  };\n\n  CenteredDiv.prototype.layout = function() {\n    this.domElement.style.left = window.innerWidth/2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight/2 - dom.getHeight(this.domElement) / 2 + 'px';\n  };\n  \n  function lockScroll(e) {\n    console.log(e);\n  }\n\n  return CenteredDiv;\n\n})(dat.dom.dom,\ndat.utils.common),\ndat.dom.dom,\ndat.utils.common);","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/** @namespace */\nvar dat = module.exports = dat || {};\n\n/** @namespace */\ndat.color = dat.color || {};\n\n/** @namespace */\ndat.utils = dat.utils || {};\n\ndat.utils.common = (function () {\n  \n  var ARR_EACH = Array.prototype.forEach;\n  var ARR_SLICE = Array.prototype.slice;\n\n  /**\n   * Band-aid methods for things that should be a lot easier in JavaScript.\n   * Implementation and structure inspired by underscore.js\n   * http://documentcloud.github.com/underscore/\n   */\n\n  return { \n    \n    BREAK: {},\n  \n    extend: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (!this.isUndefined(obj[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n      \n    },\n    \n    defaults: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (this.isUndefined(target[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n    \n    },\n    \n    compose: function() {\n      var toCall = ARR_SLICE.call(arguments);\n            return function() {\n              var args = ARR_SLICE.call(arguments);\n              for (var i = toCall.length -1; i >= 0; i--) {\n                args = [toCall[i].apply(this, args)];\n              }\n              return args[0];\n            }\n    },\n    \n    each: function(obj, itr, scope) {\n\n      \n      if (ARR_EACH && obj.forEach === ARR_EACH) { \n        \n        obj.forEach(itr, scope);\n        \n      } else if (obj.length === obj.length + 0) { // Is number but not NaN\n        \n        for (var key = 0, l = obj.length; key < l; key++)\n          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) \n            return;\n            \n      } else {\n\n        for (var key in obj) \n          if (itr.call(scope, obj[key], key) === this.BREAK)\n            return;\n            \n      }\n            \n    },\n    \n    defer: function(fnc) {\n      setTimeout(fnc, 0);\n    },\n    \n    toArray: function(obj) {\n      if (obj.toArray) return obj.toArray();\n      return ARR_SLICE.call(obj);\n    },\n\n    isUndefined: function(obj) {\n      return obj === undefined;\n    },\n    \n    isNull: function(obj) {\n      return obj === null;\n    },\n    \n    isNaN: function(obj) {\n      return obj !== obj;\n    },\n    \n    isArray: Array.isArray || function(obj) {\n      return obj.constructor === Array;\n    },\n    \n    isObject: function(obj) {\n      return obj === Object(obj);\n    },\n    \n    isNumber: function(obj) {\n      return obj === obj+0;\n    },\n    \n    isString: function(obj) {\n      return obj === obj+'';\n    },\n    \n    isBoolean: function(obj) {\n      return obj === false || obj === true;\n    },\n    \n    isFunction: function(obj) {\n      return Object.prototype.toString.call(obj) === '[object Function]';\n    }\n  \n  };\n    \n})();\n\n\ndat.color.toString = (function (common) {\n\n  return function(color) {\n\n    if (color.a == 1 || common.isUndefined(color.a)) {\n\n      var s = color.hex.toString(16);\n      while (s.length < 6) {\n        s = '0' + s;\n      }\n\n      return '#' + s;\n\n    } else {\n\n      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';\n\n    }\n\n  }\n\n})(dat.utils.common);\n\n\ndat.Color = dat.color.Color = (function (interpret, math, toString, common) {\n\n  var Color = function() {\n\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw 'Failed to interpret color arguments';\n    }\n\n    this.__state.a = this.__state.a || 1;\n\n\n  };\n\n  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];\n\n  common.extend(Color.prototype, {\n\n    toString: function() {\n      return toString(this);\n    },\n\n    toOriginal: function() {\n      return this.__state.conversion.write(this);\n    }\n\n  });\n\n  defineRGBComponent(Color.prototype, 'r', 2);\n  defineRGBComponent(Color.prototype, 'g', 1);\n  defineRGBComponent(Color.prototype, 'b', 0);\n\n  defineHSVComponent(Color.prototype, 'h');\n  defineHSVComponent(Color.prototype, 's');\n  defineHSVComponent(Color.prototype, 'v');\n\n  Object.defineProperty(Color.prototype, 'a', {\n\n    get: function() {\n      return this.__state.a;\n    },\n\n    set: function(v) {\n      this.__state.a = v;\n    }\n\n  });\n\n  Object.defineProperty(Color.prototype, 'hex', {\n\n    get: function() {\n\n      if (!this.__state.space !== 'HEX') {\n        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      }\n\n      return this.__state.hex;\n\n    },\n\n    set: function(v) {\n\n      this.__state.space = 'HEX';\n      this.__state.hex = v;\n\n    }\n\n  });\n\n  function defineRGBComponent(target, component, componentHexIndex) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'RGB') {\n          return this.__state[component];\n        }\n\n        recalculateRGB(this, component, componentHexIndex);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'RGB') {\n          recalculateRGB(this, component, componentHexIndex);\n          this.__state.space = 'RGB';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function defineHSVComponent(target, component) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'HSV')\n          return this.__state[component];\n\n        recalculateHSV(this);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'HSV') {\n          recalculateHSV(this);\n          this.__state.space = 'HSV';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function recalculateRGB(color, component, componentHexIndex) {\n\n    if (color.__state.space === 'HEX') {\n\n      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n\n    } else if (color.__state.space === 'HSV') {\n\n      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n\n    } else {\n\n      throw 'Corrupted color state';\n\n    }\n\n  }\n\n  function recalculateHSV(color) {\n\n    var result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n    common.extend(color.__state,\n        {\n          s: result.s,\n          v: result.v\n        }\n    );\n\n    if (!common.isNaN(result.h)) {\n      color.__state.h = result.h;\n    } else if (common.isUndefined(color.__state.h)) {\n      color.__state.h = 0;\n    }\n\n  }\n\n  return Color;\n\n})(dat.color.interpret = (function (toString, common) {\n\n  var result, toReturn;\n\n  var interpret = function() {\n\n    toReturn = false;\n\n    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n\n    common.each(INTERPRETATIONS, function(family) {\n\n      if (family.litmus(original)) {\n\n        common.each(family.conversions, function(conversion, conversionName) {\n\n          result = conversion.read(original);\n\n          if (toReturn === false && result !== false) {\n            toReturn = result;\n            result.conversionName = conversionName;\n            result.conversion = conversion;\n            return common.BREAK;\n\n          }\n\n        });\n\n        return common.BREAK;\n\n      }\n\n    });\n\n    return toReturn;\n\n  };\n\n  var INTERPRETATIONS = [\n\n    // Strings\n    {\n\n      litmus: common.isString,\n\n      conversions: {\n\n        THREE_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt(\n                  '0x' +\n                      test[1].toString() + test[1].toString() +\n                      test[2].toString() + test[2].toString() +\n                      test[3].toString() + test[3].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        SIX_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9]{6})$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt('0x' + test[1].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGB: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3])\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGBA: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3]),\n              a: parseFloat(test[4])\n            };\n\n          },\n\n          write: toString\n\n        }\n\n      }\n\n    },\n\n    // Numbers\n    {\n\n      litmus: common.isNumber,\n\n      conversions: {\n\n        HEX: {\n          read: function(original) {\n            return {\n              space: 'HEX',\n              hex: original,\n              conversionName: 'HEX'\n            }\n          },\n\n          write: function(color) {\n            return color.hex;\n          }\n        }\n\n      }\n\n    },\n\n    // Arrays\n    {\n\n      litmus: common.isArray,\n\n      conversions: {\n\n        RGB_ARRAY: {\n          read: function(original) {\n            if (original.length != 3) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b];\n          }\n\n        },\n\n        RGBA_ARRAY: {\n          read: function(original) {\n            if (original.length != 4) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2],\n              a: original[3]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b, color.a];\n          }\n\n        }\n\n      }\n\n    },\n\n    // Objects\n    {\n\n      litmus: common.isObject,\n\n      conversions: {\n\n        RGBA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b,\n              a: color.a\n            }\n          }\n        },\n\n        RGB_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b\n            }\n          }\n        },\n\n        HSVA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v,\n              a: color.a\n            }\n          }\n        },\n\n        HSV_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v\n            }\n          }\n\n        }\n\n      }\n\n    }\n\n\n  ];\n\n  return interpret;\n\n\n})(dat.color.toString,\ndat.utils.common),\ndat.color.math = (function () {\n\n  var tmpComponent;\n\n  return {\n\n    hsv_to_rgb: function(h, s, v) {\n\n      var hi = Math.floor(h / 60) % 6;\n\n      var f = h / 60 - Math.floor(h / 60);\n      var p = v * (1.0 - s);\n      var q = v * (1.0 - (f * s));\n      var t = v * (1.0 - ((1.0 - f) * s));\n      var c = [\n        [v, t, p],\n        [q, v, p],\n        [p, v, t],\n        [p, q, v],\n        [t, p, v],\n        [v, p, q]\n      ][hi];\n\n      return {\n        r: c[0] * 255,\n        g: c[1] * 255,\n        b: c[2] * 255\n      };\n\n    },\n\n    rgb_to_hsv: function(r, g, b) {\n\n      var min = Math.min(r, g, b),\n          max = Math.max(r, g, b),\n          delta = max - min,\n          h, s;\n\n      if (max != 0) {\n        s = delta / max;\n      } else {\n        return {\n          h: NaN,\n          s: 0,\n          v: 0\n        };\n      }\n\n      if (r == max) {\n        h = (g - b) / delta;\n      } else if (g == max) {\n        h = 2 + (b - r) / delta;\n      } else {\n        h = 4 + (r - g) / delta;\n      }\n      h /= 6;\n      if (h < 0) {\n        h += 1;\n      }\n\n      return {\n        h: h * 360,\n        s: s,\n        v: max / 255\n      };\n    },\n\n    rgb_to_hex: function(r, g, b) {\n      var hex = this.hex_with_component(0, 2, r);\n      hex = this.hex_with_component(hex, 1, g);\n      hex = this.hex_with_component(hex, 0, b);\n      return hex;\n    },\n\n    component_from_hex: function(hex, componentIndex) {\n      return (hex >> (componentIndex * 8)) & 0xFF;\n    },\n\n    hex_with_component: function(hex, componentIndex, value) {\n      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));\n    }\n\n  }\n\n})(),\ndat.color.toString,\ndat.utils.common);","module.exports = require('./vendor/dat.gui')\nmodule.exports.color = require('./vendor/dat.color')","import * as Core from '../lib/core';\r\n\r\nimport dat from 'dat-gui';\r\n\r\nexport class DatGui extends Core.System {\r\n\r\n  initialize() {\r\n    this.gui = new dat.GUI();\r\n  }\r\n\r\n}\r\nCore.registerSystem('DatGui', DatGui);\r\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\n\n// TODO (cengler) - The Y is flipped in this shader for some reason.\n\n/**\n * @author Vico @vicocotea\n * original shader : https://www.shadertoy.com/view/lssGDj by @movAX13h\n */\n\n/**\n * An ASCII filter.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction AsciiFilter()\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\n\\nuniform vec4 filterArea;\\nuniform float pixelSize;\\nuniform sampler2D uSampler;\\n\\nvec2 mapCoord( vec2 coord )\\n{\\n    coord *= filterArea.xy;\\n    coord += filterArea.zw;\\n\\n    return coord;\\n}\\n\\nvec2 unmapCoord( vec2 coord )\\n{\\n    coord -= filterArea.zw;\\n    coord /= filterArea.xy;\\n\\n    return coord;\\n}\\n\\nvec2 pixelate(vec2 coord, vec2 size)\\n{\\n    return floor( coord / size ) * size;\\n}\\n\\nvec2 getMod(vec2 coord, vec2 size)\\n{\\n    return mod( coord , size) / size;\\n}\\n\\nfloat character(float n, vec2 p)\\n{\\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\\n    {\\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\\n    }\\n    return 0.0;\\n}\\n\\nvoid main()\\n{\\n    vec2 coord = mapCoord(vTextureCoord);\\n\\n    // get the rounded color..\\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\\n    pixCoord = unmapCoord(pixCoord);\\n\\n    vec4 color = texture2D(uSampler, pixCoord);\\n\\n    // determine the character to use\\n    float gray = (color.r + color.g + color.b) / 3.0;\\n\\n    float n =  65536.0;             // .\\n    if (gray > 0.2) n = 65600.0;    // :\\n    if (gray > 0.3) n = 332772.0;   // *\\n    if (gray > 0.4) n = 15255086.0; // o\\n    if (gray > 0.5) n = 23385164.0; // &\\n    if (gray > 0.6) n = 15252014.0; // 8\\n    if (gray > 0.7) n = 13199452.0; // @\\n    if (gray > 0.8) n = 11512810.0; // #\\n\\n    // get the mod..\\n    vec2 modd = getMod(coord, vec2(pixelSize));\\n\\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\\n\\n}\"\n    );\n\n    this.size = 8;\n}\n\nAsciiFilter.prototype = Object.create(PIXI.Filter.prototype);\nAsciiFilter.prototype.constructor = AsciiFilter;\nmodule.exports = AsciiFilter;\n\nObject.defineProperties(AsciiFilter.prototype, {\n    /**\n     * The pixel size used by the filter.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.AsciiFilter#\n     */\n    size: {\n        get: function ()\n        {\n            return this.uniforms.pixelSize;\n        },\n        set: function (value)\n        {\n            this.uniforms.pixelSize = value;\n        }\n    }\n});\n","var BlurXFilter = PIXI.filters.BlurXFilter,\n    BlurYFilter = PIXI.filters.BlurYFilter,\n    VoidFilter = PIXI.filters.VoidFilter;\n\n/**\n * The BloomFilter applies a Gaussian blur to an object.\n * The strength of the blur can be set for x- and y-axis separately.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction BloomFilter()\n{\n    PIXI.Filter.call(this);\n\n    this.blurXFilter = new BlurXFilter();\n    this.blurYFilter = new BlurYFilter();\n\n    this.blurYFilter.blendMode = PIXI.BLEND_MODES.SCREEN;\n\n    this.defaultFilter = new VoidFilter();\n}\n\nBloomFilter.prototype = Object.create(PIXI.Filter.prototype);\nBloomFilter.prototype.constructor = BloomFilter;\nmodule.exports = BloomFilter;\n\nBloomFilter.prototype.apply = function (filterManager, input, output)\n{\n    var renderTarget = filterManager.getRenderTarget(true);\n\n    //TODO - copyTexSubImage2D could be used here?\n    this.defaultFilter.apply(filterManager, input, output);\n\n    this.blurXFilter.apply(filterManager, input, renderTarget);\n    this.blurYFilter.apply(filterManager, renderTarget, output);\n\n    filterManager.returnRenderTarget(renderTarget);\n};\n\nObject.defineProperties(BloomFilter.prototype, {\n    /**\n     * Sets the strength of both the blurX and blurY properties simultaneously\n     *\n     * @member {number}\n     * @memberOf PIXI.filters.BloomFilter#\n     * @default 2\n     */\n    blur: {\n        get: function ()\n        {\n            return this.blurXFilter.blur;\n        },\n        set: function (value)\n        {\n            this.blurXFilter.blur = this.blurYFilter.blur = value;\n        }\n    },\n\n    /**\n     * Sets the strength of the blurX property\n     *\n     * @member {number}\n     * @memberOf PIXI.filters.BloomFilter#\n     * @default 2\n     */\n    blurX: {\n        get: function ()\n        {\n            return this.blurXFilter.blur;\n        },\n        set: function (value)\n        {\n            this.blurXFilter.blur = value;\n        }\n    },\n\n    /**\n     * Sets the strength of the blurY property\n     *\n     * @member {number}\n     * @memberOf PIXI.filters.BloomFilter#\n     * @default 2\n     */\n    blurY: {\n        get: function ()\n        {\n            return this.blurYFilter.blur;\n        },\n        set: function (value)\n        {\n            this.blurYFilter.blur = value;\n        }\n    }\n});\n","// Make sure PIXI global object is available\nif (typeof PIXI === \"undefined\") {\n    throw new Error('pixi.js is required to be included');\n}","\n\n/**\n * The ConvolutionFilter class applies a matrix convolution filter effect.\n * A convolution combines pixels in the input image with neighboring pixels to produce a new image.\n * A wide variety of image effects can be achieved through convolutions, including blurring, edge\n * detection, sharpening, embossing, and beveling. The matrix should be specified as a 9 point Array.\n * See http://docs.gimp.org/en/plug-in-convmatrix.html for more info.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n * @param matrix {number[]} An array of values used for matrix transformation. Specified as a 9 point Array.\n * @param width {number} Width of the object you are transforming\n * @param height {number} Height of the object you are transforming\n */\nfunction ConvolutionFilter(matrix, width, height)\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying mediump vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec2 texelSize;\\nuniform float matrix[9];\\n\\nvoid main(void)\\n{\\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\\n\\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\\n\\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\\n\\n   gl_FragColor =\\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\\n\\n   gl_FragColor.a = c22.a;\\n}\\n\"\n    );\n\n    this.matrix = matrix;\n    this.width = width;\n    this.height = height;\n}\n\nConvolutionFilter.prototype = Object.create(PIXI.Filter.prototype);\nConvolutionFilter.prototype.constructor = ConvolutionFilter;\nmodule.exports = ConvolutionFilter;\n\nObject.defineProperties(ConvolutionFilter.prototype, {\n    /**\n     * An array of values used for matrix transformation. Specified as a 9 point Array.\n     *\n     * @member {number[]}\n     * @memberof PIXI.filters.ConvolutionFilter#\n     */\n    matrix: {\n        get: function ()\n        {\n            return this.uniforms.matrix;\n        },\n        set: function (value)\n        {\n            this.uniforms.matrix = new Float32Array(value);\n        }\n    },\n\n    /**\n     * Width of the object you are transforming\n     *\n     * @member {number}\n     * @memberof PIXI.filters.ConvolutionFilter#\n     */\n    width: {\n        get: function ()\n        {\n            return 1/this.uniforms.texelSize[0];\n        },\n        set: function (value)\n        {\n            this.uniforms.texelSize[0] = 1/value;\n        }\n    },\n\n    /**\n     * Height of the object you are transforming\n     *\n     * @member {number}\n     * @memberof PIXI.filters.ConvolutionFilter#\n     */\n    height: {\n        get: function ()\n        {\n            return 1/this.uniforms.texelSize[1];\n        },\n        set: function (value)\n        {\n            this.uniforms.texelSize[1] = 1/value;\n        }\n    }\n});\n","\n\n/**\n * A Cross Hatch effect filter.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction CrossHatchFilter()\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\n\\nvoid main(void)\\n{\\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\\n\\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n    if (lum < 1.00)\\n    {\\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\\n        {\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\n        }\\n    }\\n\\n    if (lum < 0.75)\\n    {\\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\\n        {\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\n        }\\n    }\\n\\n    if (lum < 0.50)\\n    {\\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\\n        {\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\n        }\\n    }\\n\\n    if (lum < 0.3)\\n    {\\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\\n        {\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\n        }\\n    }\\n}\\n\"\n    );\n}\n\nCrossHatchFilter.prototype = Object.create(PIXI.Filter.prototype);\nCrossHatchFilter.prototype.constructor = CrossHatchFilter;\nmodule.exports = CrossHatchFilter;\n","\n\n/**\n * @author Mat Groves http://matgroves.com/ @Doormat23\n * original filter: https://github.com/evanw/glfx.js/blob/master/src/filters/fun/dotscreen.js\n */\n\n/**\n * This filter applies a dotscreen effect making display objects appear to be made out of\n * black and white halftone dots like an old printer.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction DotFilter()\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\n\\nuniform vec4 filterArea;\\nuniform sampler2D uSampler;\\n\\nuniform float angle;\\nuniform float scale;\\n\\nfloat pattern()\\n{\\n   float s = sin(angle), c = cos(angle);\\n   vec2 tex = vTextureCoord * filterArea.xy;\\n   vec2 point = vec2(\\n       c * tex.x - s * tex.y,\\n       s * tex.x + c * tex.y\\n   ) * scale;\\n   return (sin(point.x) * sin(point.y)) * 4.0;\\n}\\n\\nvoid main()\\n{\\n   vec4 color = texture2D(uSampler, vTextureCoord);\\n   float average = (color.r + color.g + color.b) / 3.0;\\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\\n}\\n\"\n    );\n\n    this.scale = 1;\n    this.angle = 5;\n}\n\nDotFilter.prototype = Object.create(PIXI.Filter.prototype);\nDotFilter.prototype.constructor = DotFilter;\nmodule.exports = DotFilter;\n\nObject.defineProperties(DotFilter.prototype, {\n    /**\n     * The scale of the effect.\n     * @member {number}\n     * @memberof PIXI.filters.DotFilter#\n     */\n    scale: {\n        get: function ()\n        {\n            return this.uniforms.scale;\n        },\n        set: function (value)\n        {\n            this.uniforms.scale = value;\n        }\n    },\n\n    /**\n     * The radius of the effect.\n     * @member {number}\n     * @memberof PIXI.filters.DotFilter#\n     */\n    angle: {\n        get: function ()\n        {\n            return this.uniforms.angle;\n        },\n        set: function (value)\n        {\n            this.uniforms.angle = value;\n        }\n    }\n});\n","\n\n/**\n * An RGB Split Filter.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction EmbossFilter()\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform float strength;\\nuniform vec4 filterArea;\\n\\nvoid main(void)\\n{\\n\\tvec2 onePixel = vec2(1.0 / filterArea);\\n\\n\\tvec4 color;\\n\\n\\tcolor.rgb = vec3(0.5);\\n\\n\\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\\n\\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\\n\\n\\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\\n\\n\\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\\n\\n\\tgl_FragColor = vec4(color.rgb * alpha, alpha);\\n}\\n\"\n    );\n\n    this.strength = 5;\n}\n\nEmbossFilter.prototype = Object.create(PIXI.Filter.prototype);\nEmbossFilter.prototype.constructor = EmbossFilter;\nmodule.exports = EmbossFilter;\n\nObject.defineProperties(EmbossFilter.prototype, {\n    /**\n     * Strength of Emboss.\n     *\n     * @member {PIXI.Point}\n     * @memberof PIXI.filters.EmbossFilter#\n     */\n    strength: {\n        get: function ()\n        {\n            return this.uniforms.strength;\n        },\n        set: function (value)\n        {\n            this.uniforms.strength = value;\n        }\n    },\n\n\n});\n","// @see https://github.com/substack/brfs/issues/25\n\n\n/**\n * This filter applies a pixelate effect making display objects appear 'blocky'.\n *\n * @class\n * @extends PIXI.AbstractFilter\n * @memberof PIXI.filters\n */\nfunction PixelateFilter()\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec2 vTextureCoord;\\n\\nuniform vec2 size;\\nuniform sampler2D uSampler;\\n\\nuniform vec4 filterArea;\\n\\nvec2 mapCoord( vec2 coord )\\n{\\n    coord *= filterArea.xy;\\n    coord += filterArea.zw;\\n\\n    return coord;\\n}\\n\\nvec2 unmapCoord( vec2 coord )\\n{\\n    coord -= filterArea.zw;\\n    coord /= filterArea.xy;\\n\\n    return coord;\\n}\\n\\nvec2 pixelate(vec2 coord, vec2 size)\\n{\\n\\treturn floor( coord / size ) * size;\\n}\\n\\nvoid main(void)\\n{\\n    vec2 coord = mapCoord(vTextureCoord);\\n\\n    coord = pixelate(coord, size);\\n\\n    coord = unmapCoord(coord);\\n\\n    gl_FragColor = texture2D(uSampler, coord);\\n}\\n\"\n    );\n\n    this.size = [10,10];\n\n}\n\nPixelateFilter.prototype = Object.create(PIXI.Filter.prototype);\nPixelateFilter.prototype.constructor = PixelateFilter;\nmodule.exports = PixelateFilter;\n\nObject.defineProperties(PixelateFilter.prototype, {\n    /**\n     * This a point that describes the size of the blocks.\n     * x is the width of the block and y is the height.\n     *\n     * @member {PIXI.Point}\n     * @memberof PIXI.filters.PixelateFilter#\n     */\n    size: {\n        get: function ()\n        {\n            return this.uniforms.size;\n        },\n        set: function (value)\n        {\n            this.uniforms.size.value = value;\n        }\n    }\n});\n","\n\n/**\n * An RGB Split Filter.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction RGBSplitFilter()\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 filterArea;\\nuniform vec2 red;\\nuniform vec2 green;\\nuniform vec2 blue;\\n\\nvoid main(void)\\n{\\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\\n}\\n\"\n    );\n\n    this.red = [-10, 0];\n    this.green = [0, 10];\n    this.blue = [0, 0];\n}\n\nRGBSplitFilter.prototype = Object.create(PIXI.Filter.prototype);\nRGBSplitFilter.prototype.constructor = RGBSplitFilter;\nmodule.exports = RGBSplitFilter;\n\nObject.defineProperties(RGBSplitFilter.prototype, {\n    /**\n     * Red channel offset.\n     *\n     * @member {PIXI.Point}\n     * @memberof PIXI.filters.RGBSplitFilter#\n     */\n    red: {\n        get: function ()\n        {\n            return this.uniforms.red;\n        },\n        set: function (value)\n        {\n            this.uniforms.red = value;\n        }\n    },\n\n    /**\n     * Green channel offset.\n     *\n     * @member {PIXI.Point}\n     * @memberof PIXI.filters.RGBSplitFilter#\n     */\n    green: {\n        get: function ()\n        {\n            return this.uniforms.green;\n        },\n        set: function (value)\n        {\n            this.uniforms.green = value;\n        }\n    },\n\n    /**\n     * Blue offset.\n     *\n     * @member {PIXI.Point}\n     * @memberof PIXI.filters.RGBSplitFilter#\n     */\n    blue: {\n        get: function ()\n        {\n            return this.uniforms.blue.value;\n        },\n        set: function (value)\n        {\n            this.uniforms.blue.value = value;\n        }\n    }\n});\n","\n\n/**\n * The ColorMatrixFilter class lets you apply a 4x4 matrix transformation on the RGBA\n * color and alpha values of every pixel on your displayObject to produce a result\n * with a new set of RGBA color and alpha values. It's pretty powerful!\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction ShockwaveFilter()\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\n\\nuniform vec2 center;\\nuniform vec3 params; // 10.0, 0.8, 0.1\\nuniform float time;\\n\\nvoid main()\\n{\\n    vec2 uv = vTextureCoord;\\n    vec2 texCoord = uv;\\n\\n    float dist = distance(uv, center);\\n\\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\\n    {\\n        float diff = (dist - time);\\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\\n\\n        float diffTime = diff  * powDiff;\\n        vec2 diffUV = normalize(uv - center);\\n        texCoord = uv + (diffUV * diffTime);\\n    }\\n\\n    gl_FragColor = texture2D(uSampler, texCoord);\\n}\\n\",\n        // custom uniforms\n        {\n            center: { type: 'v2', value: { x: 0.5, y: 0.5 } },\n            params: { type: 'v3', value: { x: 10, y: 0.8, z: 0.1 } },\n            time: { type: '1f', value: 0 }\n        }\n    );\n\n    this.center = [0.5, 0.5];\n    this.params = [10, 0.8, 0.1];\n    this.time = 0;\n}\n\nShockwaveFilter.prototype = Object.create(PIXI.Filter.prototype);\nShockwaveFilter.prototype.constructor = ShockwaveFilter;\nmodule.exports = ShockwaveFilter;\n\nObject.defineProperties(ShockwaveFilter.prototype, {\n    /**\n     * Sets the center of the shockwave in normalized screen coords. That is\n     * (0,0) is the top-left and (1,1) is the bottom right.\n     *\n     * @member {object<string, number>}\n     * @memberof PIXI.filters.ShockwaveFilter#\n     */\n    center: {\n        get: function ()\n        {\n            return this.uniforms.center;\n        },\n        set: function (value)\n        {\n            this.uniforms.center = value;\n        }\n    },\n    /**\n     * Sets the params of the shockwave. These modify the look and behavior of\n     * the shockwave as it ripples out.\n     *\n     * @member {object<string, number>}\n     * @memberof PIXI.filters.ShockwaveFilter#\n     */\n    params: {\n        get: function ()\n        {\n            return this.uniforms.params;\n        },\n        set: function (value)\n        {\n            this.uniforms.params = value;\n        }\n    },\n    /**\n     * Sets the elapsed time of the shockwave. This controls the speed at which\n     * the shockwave ripples out.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.ShockwaveFilter#\n     */\n    time: {\n        get: function ()\n        {\n            return this.uniforms.time;\n        },\n        set: function (value)\n        {\n            this.uniforms.time = value;\n        }\n    }\n});\n","\n\n/**\n * @author Vico @vicocotea\n * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/\n */\n\n/**\n * A TiltShiftAxisFilter.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction TiltShiftAxisFilter()\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform float blur;\\nuniform float gradientBlur;\\nuniform vec2 start;\\nuniform vec2 end;\\nuniform vec2 delta;\\nuniform vec2 texSize;\\n\\nfloat random(vec3 scale, float seed)\\n{\\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\\n}\\n\\nvoid main(void)\\n{\\n    vec4 color = vec4(0.0);\\n    float total = 0.0;\\n\\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\\n\\n    for (float t = -30.0; t <= 30.0; t++)\\n    {\\n        float percent = (t + offset - 0.5) / 30.0;\\n        float weight = 1.0 - abs(percent);\\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\\n        sample.rgb *= sample.a;\\n        color += sample * weight;\\n        total += weight;\\n    }\\n\\n    gl_FragColor = color / total;\\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\\n}\\n\"\n\n    );\n\n    this.uniforms.blur = 100;\n    this.uniforms.gradientBlur = 600;\n    this.uniforms.start = new PIXI.Point(0, window.innerHeight / 2);\n    this.uniforms.end = new PIXI.Point(600, window.innerHeight / 2);\n    this.uniforms.delta = new PIXI.Point(30, 30);\n    this.uniforms.texSize = new PIXI.Point(window.innerWidth, window.innerHeight);\n\n    this.updateDelta();\n}\n\nTiltShiftAxisFilter.prototype = Object.create(PIXI.Filter.prototype);\nTiltShiftAxisFilter.prototype.constructor = TiltShiftAxisFilter;\nmodule.exports = TiltShiftAxisFilter;\n\n/**\n * Updates the filter delta values.\n * This is overridden in the X and Y filters, does nothing for this class.\n *\n */\nTiltShiftAxisFilter.prototype.updateDelta = function ()\n{\n    this.uniforms.delta.x = 0;\n    this.uniforms.delta.y = 0;\n};\n\nObject.defineProperties(TiltShiftAxisFilter.prototype, {\n    /**\n     * The strength of the blur.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.TiltShiftAxisFilter#\n     */\n    blur: {\n        get: function ()\n        {\n            return this.uniforms.blur;\n        },\n        set: function (value)\n        {\n            this.uniforms.blur = value;\n        }\n    },\n\n    /**\n     * The strength of the gradient blur.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.TiltShiftAxisFilter#\n     */\n    gradientBlur: {\n        get: function ()\n        {\n            return this.uniforms.gradientBlur;\n        },\n        set: function (value)\n        {\n            this.uniforms.gradientBlur = value;\n        }\n    },\n\n    /**\n     * The X value to start the effect at.\n     *\n     * @member {PIXI.Point}\n     * @memberof PIXI.filters.TiltShiftAxisFilter#\n     */\n    start: {\n        get: function ()\n        {\n            return this.uniforms.start;\n        },\n        set: function (value)\n        {\n            this.uniforms.start = value;\n            this.updateDelta();\n        }\n    },\n\n    /**\n     * The X value to end the effect at.\n     *\n     * @member {PIXI.Point}\n     * @memberof PIXI.filters.TiltShiftAxisFilter#\n     */\n    end: {\n        get: function ()\n        {\n            return this.uniforms.end;\n        },\n        set: function (value)\n        {\n            this.uniforms.end = value;\n            this.updateDelta();\n        }\n    }\n});\n","var TiltShiftXFilter = require('./TiltShiftXFilter'),\n    TiltShiftYFilter = require('./TiltShiftYFilter');\n\n/**\n * @author Vico @vicocotea\n * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/\n */\n\n/**\n * A TiltShift Filter. Manages the pass of both a TiltShiftXFilter and TiltShiftYFilter.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction TiltShiftFilter()\n{\n    PIXI.Filter.call(this);\n\n    this.tiltShiftXFilter = new TiltShiftXFilter();\n    this.tiltShiftYFilter = new TiltShiftYFilter();\n}\n\nTiltShiftFilter.prototype = Object.create(PIXI.Filter.prototype);\nTiltShiftFilter.prototype.constructor = TiltShiftFilter;\nmodule.exports = TiltShiftFilter;\n\nTiltShiftFilter.prototype.apply = function (filterManager, input, output)\n{\n    var renderTarget = filterManager.getRenderTarget(true);\n\n    this.tiltShiftXFilter.apply(filterManager, input, renderTarget);\n\n    this.tiltShiftYFilter.apply(filterManager, renderTarget, output);\n\n    filterManager.returnRenderTarget(renderTarget);\n};\n\nObject.defineProperties(TiltShiftFilter.prototype, {\n    /**\n     * The strength of the blur.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.TiltShiftFilter#\n     */\n    blur: {\n        get: function ()\n        {\n            return this.tiltShiftXFilter.blur;\n        },\n        set: function (value)\n        {\n            this.tiltShiftXFilter.blur = this.tiltShiftYFilter.blur = value;\n        }\n    },\n\n    /**\n     * The strength of the gradient blur.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.TiltShiftFilter#\n     */\n    gradientBlur: {\n        get: function ()\n        {\n            return this.tiltShiftXFilter.gradientBlur;\n        },\n        set: function (value)\n        {\n            this.tiltShiftXFilter.gradientBlur = this.tiltShiftYFilter.gradientBlur = value;\n        }\n    },\n\n    /**\n     * The Y value to start the effect at.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.TiltShiftFilter#\n     */\n    start: {\n        get: function ()\n        {\n            return this.tiltShiftXFilter.start;\n        },\n        set: function (value)\n        {\n            this.tiltShiftXFilter.start = this.tiltShiftYFilter.start = value;\n        }\n    },\n\n    /**\n     * The Y value to end the effect at.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.TiltShiftFilter#\n     */\n    end: {\n        get: function ()\n        {\n            return this.tiltShiftXFilter.end;\n        },\n        set: function (value)\n        {\n            this.tiltShiftXFilter.end = this.tiltShiftYFilter.end = value;\n        }\n    }\n});\n","var TiltShiftAxisFilter = require('./TiltShiftAxisFilter');\n\n/**\n * @author Vico @vicocotea\n * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/\n */\n\n/**\n * A TiltShiftXFilter.\n *\n * @class\n * @extends PIXI.TiltShiftAxisFilter\n * @memberof PIXI.filters\n */\nfunction TiltShiftXFilter()\n{\n    TiltShiftAxisFilter.call(this);\n}\n\nTiltShiftXFilter.prototype = Object.create(TiltShiftAxisFilter.prototype);\nTiltShiftXFilter.prototype.constructor = TiltShiftXFilter;\nmodule.exports = TiltShiftXFilter;\n\n/**\n * Updates the filter delta values.\n *\n */\nTiltShiftXFilter.prototype.updateDelta = function ()\n{\n    var dx = this.uniforms.end.x - this.uniforms.start.x;\n    var dy = this.uniforms.end.y - this.uniforms.start.y;\n    var d = Math.sqrt(dx * dx + dy * dy);\n\n    this.uniforms.delta.x = dx / d;\n    this.uniforms.delta.y = dy / d;\n};\n","var TiltShiftAxisFilter = require('./TiltShiftAxisFilter');\n\n/**\n * @author Vico @vicocotea\n * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/\n */\n\n/**\n * A TiltShiftYFilter.\n *\n * @class\n * @extends PIXI.TiltShiftAxisFilter\n * @memberof PIXI.filters\n */\nfunction TiltShiftYFilter()\n{\n    TiltShiftAxisFilter.call(this);\n}\n\nTiltShiftYFilter.prototype = Object.create(TiltShiftAxisFilter.prototype);\nTiltShiftYFilter.prototype.constructor = TiltShiftYFilter;\nmodule.exports = TiltShiftYFilter;\n\n/**\n * Updates the filter delta values.\n *\n */\nTiltShiftYFilter.prototype.updateDelta = function ()\n{\n    var dx = this.uniforms.end.x - this.uniforms.start.x;\n    var dy = this.uniforms.end.y - this.uniforms.start.y;\n    var d = Math.sqrt(dx * dx + dy * dy);\n\n    this.uniforms.delta.x = -dy / d;\n    this.uniforms.delta.y = dx / d;\n};\n","\n\n/**\n * This filter applies a twist effect making display objects appear twisted in the given direction.\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n */\nfunction TwistFilter()\n{\n    PIXI.Filter.call(this,\n        // vertex shader\n        \"#define GLSLIFY 1\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\n        // fragment shader\n        \"#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform float radius;\\nuniform float angle;\\nuniform vec2 offset;\\nuniform vec4 filterArea;\\n\\nvec2 mapCoord( vec2 coord )\\n{\\n    coord *= filterArea.xy;\\n    coord += filterArea.zw;\\n\\n    return coord;\\n}\\n\\nvec2 unmapCoord( vec2 coord )\\n{\\n    coord -= filterArea.zw;\\n    coord /= filterArea.xy;\\n\\n    return coord;\\n}\\n\\nvec2 twist(vec2 coord)\\n{\\n    coord -= offset;\\n\\n    float dist = length(coord);\\n\\n    if (dist < radius)\\n    {\\n        float ratioDist = (radius - dist) / radius;\\n        float angleMod = ratioDist * ratioDist * angle;\\n        float s = sin(angleMod);\\n        float c = cos(angleMod);\\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\\n    }\\n\\n    coord += offset;\\n\\n    return coord;\\n}\\n\\nvoid main(void)\\n{\\n\\n    vec2 coord = mapCoord(vTextureCoord);\\n\\n    coord = twist(coord);\\n\\n    coord = unmapCoord(coord);\\n\\n    gl_FragColor = texture2D(uSampler, coord );\\n\\n}\\n\"\n    );\n\n    this.radius = 200;\n    this.angle = 4;\n    this.padding = 20;\n}\n\nTwistFilter.prototype = Object.create(PIXI.Filter.prototype);\nTwistFilter.prototype.constructor = TwistFilter;\nmodule.exports = TwistFilter;\n\nObject.defineProperties(TwistFilter.prototype, {\n    /**\n     * This point describes the the offset of the twist.\n     *\n     * @member {PIXI.Point}\n     * @memberof PIXI.filters.TwistFilter#\n     */\n    offset: {\n        get: function ()\n        {\n            return this.uniforms.offset;\n        },\n        set: function (value)\n        {\n            this.uniforms.offset = value;\n        }\n    },\n\n    /**\n     * This radius of the twist.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.TwistFilter#\n     */\n    radius: {\n        get: function ()\n        {\n            return this.uniforms.radius;\n        },\n        set: function (value)\n        {\n            this.uniforms.radius = value;\n        }\n    },\n\n    /**\n     * This angle of the twist.\n     *\n     * @member {number}\n     * @memberof PIXI.filters.TwistFilter#\n     */\n    angle: {\n        get: function ()\n        {\n            return this.uniforms.angle;\n        },\n        set: function (value)\n        {\n            this.uniforms.angle = value;\n        }\n    }\n});\n","require('./check');\n\n// Require built filters\nvar filters = {\n    AsciiFilter: require('./ascii/AsciiFilter'),\n    BloomFilter: require('./bloom/BloomFilter'),\n    ConvolutionFilter: require('./convolution/ConvolutionFilter'),\n    CrossHatchFilter: require('./crosshatch/CrossHatchFilter'),\n    DotFilter: require('./dot/DotFilter'),\n    EmbossFilter: require('./emboss/EmbossFilter'),\n    PixelateFilter: require('./pixelate/PixelateFilter'),\n    RGBSplitFilter: require('./rgb/RGBSplitFilter'),\n    ShockwaveFilter: require('./shockwave/ShockwaveFilter'),\n    TiltShiftFilter: require('./tiltshift/TiltShiftFilter'),\n    TiltShiftAxisFilter: require('./tiltshift/TiltShiftAxisFilter'),\n    TiltShiftXFilter: require('./tiltshift/TiltShiftXFilter'),\n    TiltShiftYFilter: require('./tiltshift/TiltShiftYFilter'),\n    TwistFilter: require('./twist/TwistFilter')\n};\n\n// Assign to filters\nObject.assign(PIXI.filters, filters);\n\n// Export for requiring\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = filters;\n}","/**\r\n * GlowFilter, originally by mishaa\r\n * http://www.html5gamedevs.com/topic/12756-glow-filter/?hl=mishaa#entry73578\r\n * http://codepen.io/mishaa/pen/raKzrm\r\n *\r\n * @class\r\n * @param viewWidth {number} The width of the view to draw to, usually renderer.width.\r\n * @param viewHeight {number} The height of the view to draw to, usually renderer.height.\r\n * @param outerStrength {number} The strength of the glow outward from the edge of the sprite.\r\n * @param innerStrength {number} The strength of the glow inward from the edge of the sprite.\r\n * @param color {number} The color of the glow.\r\n * @param quality {number} A number between 0 and 1 that describes the quality of the glow.\r\n *\r\n * @example\r\n *  someSprite.filters = [\r\n *      new GlowFilter(renderer.width, renderer.height, 15, 2, 1, 0xFF0000, 0.5)\r\n *  ];\r\n */\r\nfunction GlowFilter(viewWidth, viewHeight, distance, outerStrength, innerStrength, color, quality) {\r\n    PIXI.AbstractFilter.call(this,\r\n        // vertex shader\r\n        null,\r\n        // fragment shader\r\n        [\r\n            'precision mediump float;',\r\n\r\n            'varying vec2 vTextureCoord;',\r\n            'varying vec4 vColor;',\r\n\r\n            'uniform sampler2D uSampler;',\r\n\r\n            'uniform float distance;',\r\n            'uniform float outerStrength;',\r\n            'uniform float innerStrength;',\r\n            'uniform vec4 glowColor;',\r\n            'uniform float pixelWidth;',\r\n            'uniform float pixelHeight;',\r\n            'vec2 px = vec2(pixelWidth, pixelHeight);',\r\n\r\n            'void main(void) {',\r\n            '    const float PI = 3.14159265358979323846264;',\r\n            '    vec4 ownColor = texture2D(uSampler, vTextureCoord);',\r\n            '    vec4 curColor;',\r\n            '    float totalAlpha = 0.0;',\r\n            '    float maxTotalAlpha = 0.0;',\r\n            '    float cosAngle;',\r\n            '    float sinAngle;',\r\n            '    for (float angle = 0.0; angle <= PI * 2.0; angle += ' + (1 / quality / distance).toFixed(7) + ') {',\r\n            '       cosAngle = cos(angle);',\r\n            '       sinAngle = sin(angle);',\r\n            '       for (float curDistance = 1.0; curDistance <= ' + distance.toFixed(7) + '; curDistance++) {',\r\n            '           curColor = texture2D(uSampler, vec2(vTextureCoord.x + cosAngle * curDistance * px.x, vTextureCoord.y + sinAngle * curDistance * px.y));',\r\n            '           totalAlpha += (distance - curDistance) * curColor.a;',\r\n            '           maxTotalAlpha += (distance - curDistance);',\r\n            '       }',\r\n            '    }',\r\n            '    maxTotalAlpha = max(maxTotalAlpha, 0.0001);',\r\n\r\n            '    ownColor.a = max(ownColor.a, 0.0001);',\r\n            '    ownColor.rgb = ownColor.rgb / ownColor.a;',\r\n            '    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);',\r\n            '    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;',\r\n            '    float resultAlpha = (ownColor.a + outerGlowAlpha);',\r\n\r\n            '    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);',\r\n            '}'\r\n        ].join('\\n'),\r\n        // custom uniforms\r\n        {\r\n            distance: { type: '1f', value: distance },\r\n            outerStrength: { type: '1f', value: 0 },\r\n            innerStrength: { type: '1f', value: 0 },\r\n            glowColor: { type: '4f', value: new Float32Array([0, 0, 0, 1]) },\r\n            pixelWidth: { type: '1f', value: 0 },\r\n            pixelHeight: { type: '1f', value: 0 }\r\n        }\r\n    );\r\n\r\n    quality = Math.pow(quality, 1/3);\r\n    this.quality = quality;\r\n\r\n    this.uniforms.distance.value *= quality;\r\n\r\n    viewWidth *= quality;\r\n    viewHeight *= quality;\r\n\r\n    this.color = color;\r\n    this.outerStrength = outerStrength;\r\n    this.innerStrength = innerStrength;\r\n    this.viewWidth = viewWidth;\r\n    this.viewHeight = viewHeight;\r\n};\r\n\r\nGlowFilter.prototype = Object.create(PIXI.AbstractFilter.prototype);\r\nGlowFilter.prototype.constructor = GlowFilter;\r\nmodule.exports = GlowFilter;\r\n\r\nObject.defineProperties(GlowFilter.prototype, {\r\n    color: {\r\n        get: function () {\r\n            return PIXI.utils.rgb2hex(this.uniforms.glowColor.value);\r\n        },\r\n        set: function(value) {\r\n            PIXI.utils.hex2rgb(value, this.uniforms.glowColor.value);\r\n        }\r\n    },\r\n\r\n    outerStrength: {\r\n        get: function () {\r\n            return this.uniforms.outerStrength.value;\r\n        },\r\n        set: function (value) {\r\n            this.uniforms.outerStrength.value = value;\r\n        }\r\n    },\r\n\r\n    innerStrength: {\r\n        get: function () {\r\n            return this.uniforms.innerStrength.value;\r\n        },\r\n        set: function (value) {\r\n            this.uniforms.innerStrength.value = value;\r\n        }\r\n    },\r\n\r\n    viewWidth: {\r\n        get: function () {\r\n            return 1 / this.uniforms.pixelWidth.value;\r\n        },\r\n        set: function(value) {\r\n            this.uniforms.pixelWidth.value = 1 / value;\r\n        }\r\n    },\r\n\r\n    viewHeight: {\r\n        get: function () {\r\n            return 1 / this.uniforms.pixelHeight.value;\r\n        },\r\n        set: function(value) {\r\n            this.uniforms.pixelHeight.value = 1 / value;\r\n        }\r\n    }\r\n});\r\n","/**\r\n * OutlineFilter, originally by mishaa\r\n * http://www.html5gamedevs.com/topic/10640-outline-a-sprite-change-certain-colors/?p=69966\r\n * http://codepen.io/mishaa/pen/emGNRB\r\n *\r\n * @class\r\n * @param viewWidth {number} The width of the view to draw to, usually renderer.width.\r\n * @param viewHeight {number} The height of the view to draw to, usually renderer.height.\r\n * @param thickness {number} The tickness of the outline.\r\n * @param color {number} The color of the glow.\r\n *\r\n * @example\r\n *  someSprite.shader = new OutlineFilter(renderer.width, renderer.height, 9, 0xFF0000);\r\n */\r\nfunction OutlineFilter(viewWidth, viewHeight, thickness, color) {\r\n    PIXI.AbstractFilter.call(this,\r\n        // vertex shader\r\n        null,\r\n        // fragment shader\r\n        [\r\n            'precision mediump float;',\r\n\r\n            'varying vec2 vTextureCoord;',\r\n            'uniform sampler2D uSampler;',\r\n\r\n            'uniform float thickness;',\r\n            'uniform vec4 outlineColor;',\r\n            'uniform float pixelWidth;',\r\n            'uniform float pixelHeight;',\r\n            'vec2 px = vec2(pixelWidth, pixelHeight);',\r\n\r\n            'void main(void) {',\r\n            '    const float PI = 3.14159265358979323846264;',\r\n            '    vec4 ownColor = texture2D(uSampler, vTextureCoord);',\r\n            '    vec4 curColor;',\r\n            '    float maxAlpha = 0.;',\r\n            '    for (float angle = 0.; angle < PI * 2.; angle += ' + (1 / thickness).toFixed(7) + ') {',\r\n            '        curColor = texture2D(uSampler, vec2(vTextureCoord.x + thickness * px.x * cos(angle), vTextureCoord.y + thickness * px.y * sin(angle)));',\r\n            '        maxAlpha = max(maxAlpha, curColor.a);',\r\n            '    }',\r\n            '    float resultAlpha = max(maxAlpha, ownColor.a);',\r\n            '    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);',\r\n            '}'\r\n        ].join('\\n'),\r\n        // custom uniforms\r\n        {\r\n            thickness: { type: '1f', value: thickness },\r\n            outlineColor: { type: '4f', value: new Float32Array([0, 0, 0, 1]) },\r\n            pixelWidth: { type: '1f', value: null },\r\n            pixelHeight: { type: '1f', value: null },\r\n        }\r\n    );\r\n\r\n    this.color = color;\r\n    this.viewWidth = viewWidth;\r\n    this.viewHeight = viewHeight;\r\n};\r\n\r\nOutlineFilter.prototype = Object.create(PIXI.AbstractFilter.prototype);\r\nOutlineFilter.prototype.constructor = OutlineFilter;\r\nmodule.exports = OutlineFilter;\r\n\r\nObject.defineProperties(OutlineFilter.prototype, {\r\n    color: {\r\n        get: function () {\r\n            return PIXI.utils.rgb2hex(this.uniforms.outlineColor.value);\r\n        },\r\n        set: function (value) {\r\n            PIXI.utils.hex2rgb(value, this.uniforms.outlineColor.value);\r\n        }\r\n    },\r\n\r\n    viewWidth: {\r\n        get: function () {\r\n            return 1 / this.uniforms.pixelWidth.value;\r\n        },\r\n        set: function(value) {\r\n            this.uniforms.pixelWidth.value = 1 / value;\r\n        }\r\n    },\r\n\r\n    viewHeight: {\r\n        get: function () {\r\n            return 1 / this.uniforms.pixelHeight.value;\r\n        },\r\n        set: function(value) {\r\n            this.uniforms.pixelHeight.value = 1 / value;\r\n        }\r\n    }\r\n});\r\n","/**\n* @author Julien CLEREL @JuloxRox\n* original filter https://github.com/evanw/glfx.js/blob/master/src/filters/warp/bulgepinch.js by Evan Wallace : http://madebyevan.com/\n*/\n\n/**\n* @filter Bulge / Pinch\n* @description Bulges or pinches the image in a circle.\n* @param center The x and y coordinates of the center of the circle of effect.\n* @param radius The radius of the circle of effect.\n* @param strength -1 to 1 (-1 is strong pinch, 0 is no effect, 1 is strong bulge)\n*\n* @class BulgePinchFilter\n* @extends AbstractFilter\n* @constructor\n*/\n\nfunction BulgePinchFilter() {\n    PIXI.AbstractFilter.call(this,\n        // vertex shader\n        null,\n        // fragment shader\n        [\n            'precision mediump float;',\n            'uniform float radius;',\n            'uniform float strength;',\n            'uniform vec2 center;',\n            'uniform sampler2D uSampler;',\n            'uniform vec4 dimensions;',\n            'varying vec2 vTextureCoord;',\n\n            'void main()',\n            '{',\n                'vec2 coord = vTextureCoord * dimensions.xy;',\n                'coord -= center;',\n                'float distance = length(coord);',\n                'if (distance < radius) {',\n                    'float percent = distance / radius;',\n                    'if (strength > 0.0) {',\n                        'coord *= mix(1.0, smoothstep(0.0, radius /     distance, percent), strength * 0.75);',\n                    '} else {',\n                        'coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);',\n                    '}',\n                '}',\n                'coord += center;',\n                'gl_FragColor = texture2D(uSampler, coord / dimensions.xy);',\n                'vec2 clampedCoord = clamp(coord, vec2(0.0), dimensions.xy);',\n                'if (coord != clampedCoord) {',\n                    'gl_FragColor.a *= max(0.0, 1.0 - length(coord - clampedCoord));',\n                '}',\n            '}'\n        ].join('\\n'),\n        // custom uniforms\n        {\n            dimensions: { type: '4f', value: [0,0,0,0] },\n            radius: { type: '1f', value: 100 },\n            strength: { type: '1f', value: 0.5 },\n            center: { type: 'v2', value: {x: 150, y: 150} }\n        }\n    );\n};\n\nBulgePinchFilter.prototype = Object.create(PIXI.AbstractFilter.prototype);\nBulgePinchFilter.prototype.constructor = BulgePinchFilter;\nmodule.exports = BulgePinchFilter;\n\nObject.defineProperties(BulgePinchFilter.prototype, {\n    /**\n     * The radius of the circle of effect.\n     *\n     * @property radius\n     * @type Number\n     */\n    radius: {\n        get: function ()\n        {\n            return this.uniforms.radius.value;\n        },\n        set: function (value)\n        {\n            this.uniforms.radius.value = value;\n        }\n    },\n    /**\n     * The strength of the effect. -1 to 1 (-1 is strong pinch, 0 is no effect, 1 is strong bulge)\n     *\n     * @property strength\n     * @type Number\n     */\n    strength: {\n        get: function ()\n        {\n            return this.uniforms.strength.value;\n        },\n        set: function (value)\n        {\n            this.uniforms.strength.value = value;\n        }\n    },\n    /**\n     * The x and y coordinates of the center of the circle of effect.\n     *\n     * @property center\n     * @type Point\n     */\n    center: {\n        get: function ()\n        {\n            return this.uniforms.center.value;\n        },\n        set: function (value)\n        {\n            this.uniforms.center.value = value;\n        }\n    }\n});\n","/**\n * ColoreReplaceFilter, originally by mishaa, updated by timetocode\n * http://www.html5gamedevs.com/topic/10640-outline-a-sprite-change-certain-colors/?p=69966\n *\n * @class\n * @param originalColor {FloatArray32} The color that will be changed, as a 3 component RGB e.g. new Float32Array(1.0, 1.0, 1.0)\n * @param newColor {FloatArray32} The resulting color, as a 3 component RGB e.g. new Float32Array(1.0, 0.5, 1.0)\n * @param epsilon {float} Tolerance/sensitivity of the floating-point comparison between colors (lower = more exact, higher = more inclusive)\n *\n * @example\n *  // replaces true red with true blue\n *  someSprite.shader = new ColorReplaceFilter(\n *   new Float32Array([1, 0, 0]),\n *   new Float32Array([0, 0, 1]),\n *   0.001\n *  );\n *  // replaces the RGB color 220, 220, 220 with the RGB color 225, 200, 215\n *  someOtherSprite.shader = new ColorReplaceFilter(\n *   new Float32Array([220/255.0, 220/255.0, 220/255.0]),\n *   new Float32Array([225/255.0, 200/255.0, 215/255.0]),\n *   0.001\n *  );\n *\n */\nfunction ColorReplaceFilter(originalColor, newColor, epsilon) {\n  PIXI.AbstractFilter.call(this,\n    // vertex shader\n    null,\n    // fragment shader\n    [\n      'precision mediump float;',\n      'varying vec2 vTextureCoord;',\n      'uniform sampler2D texture;',\n      'uniform vec3 originalColor;',\n      'uniform vec3 newColor;',\n      'uniform float epsilon;',\n      'void main(void) {',\n      '  vec4 currentColor = texture2D(texture, vTextureCoord);',\n      '  vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));',\n      '  float colorDistance = length(colorDiff);',\n      '  float doReplace = step(colorDistance, epsilon);',\n      '  gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);',\n      '}'\n    ].join('\\n'),\n    // custom unifroms\n    {\n      originalColor: { type: '3f', value: originalColor },\n      newColor: { type: '3f', value: newColor },\n      epsilon: { type: '1f', value: epsilon }\n    }\n  );\n};\n\nColorReplaceFilter.prototype = Object.create(PIXI.AbstractFilter.prototype);\nColorReplaceFilter.prototype.constructor = ColorReplaceFilter;\nmodule.exports = ColorReplaceFilter;\n\nObject.defineProperty(ColorReplaceFilter.prototype, 'originalColor', {\n  set: function (value) {\n    var r = ((value & 0xFF0000) >> 16) / 255,\n        g = ((value & 0x00FF00) >> 8) / 255,\n        b = (value & 0x0000FF) / 255;\n    this.uniforms.originalColor.value = { x: r, y: g, z: b };\n    this.dirty = true;\n  }\n});\n\nObject.defineProperty(ColorReplaceFilter.prototype, 'newColor', {\n  set: function (value) {\n    var r = ((value & 0xFF0000) >> 16) / 255,\n        g = ((value & 0x00FF00) >> 8) / 255,\n        b = (value & 0x0000FF) / 255;\n    this.uniforms.newColor.value = { x: r, y: g, z: b };\n    this.dirty = true;\n  }\n});\n\nObject.defineProperty(ColorReplaceFilter.prototype, 'epsilon', {\n  set: function (value) {\n    this.uniforms.epsilon.value = value;\n    this.dirty = true;\n  }\n});","/**\n* SimpleLightmap, originally by Oza94\n* http://www.html5gamedevs.com/topic/20027-pixijs-simple-lightmapping/\n* http://codepen.io/Oza94/pen/EPoRxj\n*\n* @class\n* @param lightmapTexture {PIXI.Texture} a texture where your lightmap is rendered\n* @param ambientColor {Array} An RGBA array of the ambient color\n* @param [resolution] {Array} An array for X/Y resolution\n*\n* @example\n*  var lightmapTex = new PIXI.RenderTexture(renderer, 400, 300);\n*\n*  // ... render lightmap on lightmapTex\n*\n*  stageContainer.filters = [\n*    new SimpleLightmapFilter(lightmapTex, [0.3, 0.3, 0.7, 0.5], [1.0, 1.0])\n*  ];\n*/\nfunction SimpleLightmapFilter(lightmapTexture, ambientColor, resolution) {\n    PIXI.AbstractFilter.call(\n        this,\n        null,\n        [\n            'precision mediump float;',\n            'varying vec4 vColor;',\n            'varying vec2 vTextureCoord;',\n            'uniform sampler2D u_texture; //diffuse map',\n            'uniform sampler2D u_lightmap;   //light map',\n            'uniform vec2 resolution; //resolution of screen',\n            'uniform vec4 ambientColor; //ambient RGB, alpha channel is intensity ',\n            'void main() {',\n            '    vec4 diffuseColor = texture2D(u_texture, vTextureCoord);',\n            '    vec2 lighCoord = (gl_FragCoord.xy / resolution.xy);',\n            '    vec4 light = texture2D(u_lightmap, vTextureCoord);',\n            '    vec3 ambient = ambientColor.rgb * ambientColor.a;',\n            '    vec3 intensity = ambient + light.rgb;',\n            '    vec3 finalColor = diffuseColor.rgb * intensity;',\n            '    gl_FragColor = vColor * vec4(finalColor, diffuseColor.a);',\n            '}'\n        ].join('\\n'),\n        {\n            u_lightmap: {\n                type: 'sampler2D',\n                value: lightmapTexture\n            },\n            resolution: {\n                type: '2f',\n                value: new Float32Array(resolution || [1.0, 1.0])\n            },\n            ambientColor: {\n                type: '4f',\n                value: new Float32Array(ambientColor)\n            }\n        });\n}\n\nSimpleLightmapFilter.prototype = Object.create(PIXI.AbstractFilter.prototype);\nSimpleLightmapFilter.prototype.constructor = SimpleLightmapFilter;\n\nObject.defineProperties(SimpleLightmapFilter.prototype, {\n    texture: {\n        get: function () {\n            return this.uniforms.u_lightmap.value;\n        },\n        set: function (value) {\n            this.uniforms.u_lightmap.value = value;\n        }\n    },\n    color: {\n        get: function () {\n            return this.uniforms.ambientColor.value;\n        },\n        set: function (value) {\n            this.uniforms.ambientColor.value = new Float32Array(value);\n        }\n    },\n    resolution: {\n        get: function () {\n            return this.uniforms.resolution.value;\n        },\n        set: function (value) {\n            this.uniforms.resolution.value = new Float32Array(value);\n        }\n    }\n});\n\nmodule.exports = SimpleLightmapFilter;\n","module.exports = {\r\n    GlowFilter: require('./filters/glow/GlowFilter'),\r\n    OutlineFilter: require('./filters/outline/OutlineFilter'),\r\n    BulgePinchFilter: require('./filters/bulgepinch/BulgePinchFilter'),\r\n    ColorReplaceFilter: require('./filters/colorreplace/ColorReplaceFilter'),\r\n    SimpleLightmapFilter:\r\n        require('./filters/simplelightmap/SimpleLightmapFilter')\r\n};\r\n\r\nfor (var filter in module.exports) {\r\n    PIXI.filters[filter] = module.exports[filter];\r\n}\r\n","/* global PIXI */\nimport * as Core from '../lib/core';\n\nimport filters from 'pixi-filters';\nimport extraFilters from 'pixi-extra-filters';\n\nconst PI2 = Math.PI * 2;\n\nlet entityId, position, sprite;\n\n// See also: http://phrogz.net/JS/wheeldelta.html\nconst wheelDistance = function(evt){\n  if (!evt) evt = event;\n  const w=evt.wheelDelta, d=evt.detail;\n  if (d){\n    if (w) return w/d/40*d>0?1:-1; // Opera\n    else return -d/3;              // Firefox;         TODO: do not /3 for OS X\n  } else return w/120;             // IE/Safari/Chrome TODO: /3 for Chrome OS X\n};\n\nexport class ViewportPixi extends Core.System {\n\n  defaultOptions() {\n    return {\n      lineWidth: 5,\n      zoom: 1.0,\n      zoomMin: 0.1,\n      zoomMax: 10.0,\n      zoomWheelFactor: 0.05,\n      gridEnabled: true,\n      gridSize: 250,\n      gridColor: 0x222222,\n      followEnabled: true,\n      followName: null,\n      followEntityId: null\n    };\n  }\n\n  initialize() {\n    this.container = document.querySelector(this.options.container);\n    this.renderer = PIXI.autoDetectRenderer(\n      this.container.offsetWidth,\n      this.container.offsetHeight,\n      { antialias: true }\n    );\n    this.renderer.autoResize = true;\n    this.canvas = this.renderer.view;\n    this.container.appendChild(this.canvas);\n    this.stage = new PIXI.Container();\n\n    this.stage.filters = [\n      // new PIXI.filters.VoidFilter(),\n      // new PIXI.filters.BlurFilter(1, 1, 5)\n    ];\n\n    this.backdrop = new PIXI.Graphics();\n    this.stage.addChild(this.backdrop);\n\n    this.graphics = {};\n\n    const events = {\n      'resize': (ev) => { this.updateMetrics(ev); },\n      'orientationchange': (ev) => { this.updateMetrics(ev); },\n      'mousedown': (ev) => { this.onMouseDown(ev); },\n      'mousemove': (ev) => { this.onMouseMove(ev); },\n      'mouseup': (ev) => { this.onMouseUp(ev); }\n    };\n\n    for (const name in events) {\n      this.canvas.addEventListener(name, events[name], false);\n    }\n\n    // See also: http://phrogz.net/JS/wheeldelta.html\n    const boundOnMouseWheel = (ev) => this.onMouseWheel(ev);\n    if (window.addEventListener){\n      window.addEventListener('mousewheel', boundOnMouseWheel, false); // Chrome/Safari/Opera\n      window.addEventListener('DOMMouseScroll', boundOnMouseWheel, false); // Firefox\n    } else if (window.attachEvent){\n      window.attachEvent('onmousewheel', boundOnMouseWheel); // IE\n    }\n\n    this.followEnabled = this.options.followEnabled;\n    this.zoom = this.options.zoom;\n    this.followEntityId = this.options.followEntityId;\n    this.gridEnabled = this.options.gridEnabled;\n    this.lineWidth = this.options.lineWidth;\n\n    this.cursorRawX = 0;\n    this.cursorRawY = 0;\n\n    this.cursorChanged = false;\n    this.cursorPosition = { x: 0, y: 0 };\n\n    this.cameraX = 0;\n    this.cameraY = 0;\n\n    this.debugDummySprite = { size: 100 };\n\n    this.updateMetrics();\n  }\n\n  onMouseWheel(ev) {\n    this.zoom += wheelDistance(ev) * this.options.zoomWheelFactor;\n    if (this.zoom < this.options.zoomMin) {\n      this.zoom = this.options.zoomMin;\n    }\n    if (this.zoom > this.options.zoomMax) {\n      this.zoom = this.options.zoomMax;\n    }\n  }\n\n  // TODO: Use a symbol for 'mouse{Down,Move,Up}' message?\n\n  onMouseDown(ev) {\n    this.setCursor(ev.clientX, ev.clientY);\n    this.world.publish('mouseDown', this.cursorPosition);\n  }\n\n  onMouseMove(ev) {\n    this.setCursor(ev.clientX, ev.clientY);\n    this.world.publish('mouseMove', this.cursorPosition);\n  }\n\n  onMouseUp(ev) {\n    this.setCursor(ev.clientX, ev.clientY);\n    this.world.publish('mouseUp', this.cursorPosition);\n  }\n\n  setCursor(x, y) {\n    const width = this.container.offsetWidth;\n    const height = this.container.offsetHeight;\n\n    this.cursorRawX = x;\n    this.cursorRawY = y;\n\n    const newX = ((x - (width / 2)) / this.zoom) + this.cameraX;\n    const newY = ((y - (height / 2)) / this.zoom) + this.cameraY;\n\n    this.cursorChanged = false;\n    if (newX !== this.cursorPosition.x || newY !== this.cursorPosition.y) {\n      this.cursorChanged = true;\n      this.cursorPosition.x = newX;\n      this.cursorPosition.y = newY;\n    }\n\n    return this.cursorPosition;\n  }\n\n  updateMetrics() {\n    const width = this.container.offsetWidth;\n    const height = this.container.offsetHeight;\n\n    this.visibleWidth = width / this.zoom;\n    this.visibleHeight = height / this.zoom;\n\n    this.visibleLeft = (0 - this.visibleWidth / 2) + this.cameraX;\n    this.visibleTop = (0 - this.visibleHeight / 2) + this.cameraY;\n    this.visibleRight = this.visibleLeft + this.visibleWidth;\n    this.visibleBottom = this.visibleTop + this.visibleHeight;\n  }\n\n  update(/*timeDelta*/) {\n    this.updateMetrics();\n\n    this.setCursor(this.cursorRawX, this.cursorRawY);\n    // FIXME: Should be able to skip doing this unless\n    // this.cursorChanged === true, but for some reason that's not working\n    this.world.publish('mouseMove', this.cursorPosition);\n\n    const sprites = this.world.get('Sprite');\n\n    for (entityId in sprites) {\n      position = this.world.get('Position', entityId);\n      sprite = sprites[entityId];\n      sprite.visible = (\n        (position.right > this.visibleLeft) &&\n        (position.left < this.visibleRight) &&\n        (position.bottom > this.visibleTop) &&\n        (position.top < this.visibleBottom)\n      );\n    }\n\n    const toRemove = Object.keys(this.graphics).filter(key => !(key in sprites));\n    toRemove.forEach(entityId => {\n      this.stage.removeChild(this.graphics[entityId]);\n      delete this.graphics[entityId];\n    });\n\n    const toAdd = Object.keys(sprites).filter(key => !(key in this.graphics));\n    toAdd.forEach(entityId => {\n      this.stage.addChild(this.graphics[entityId] = new PIXI.Graphics());\n    });\n  }\n\n  draw(timeDelta) {\n    this.followEntity();\n    this.drawBackdrop(timeDelta);\n\n    for (const entityId in this.graphics) {\n      this.drawSprite(this.graphics[entityId], entityId, timeDelta);\n    }\n\n    this.stage.setTransform(\n      (this.container.offsetWidth / 2) - (this.cameraX * this.zoom),\n      (this.container.offsetHeight / 2) - (this.cameraY * this.zoom),\n      this.zoom,\n      this.zoom\n    );\n\n    this.renderer.resize(\n      this.container.offsetWidth,\n      this.container.offsetHeight\n    );\n\n    this.renderer.render(this.stage);\n  }\n\n  drawSprite(ctx, entityId, timeDelta) {\n    const sprite = this.world.get('Sprite', entityId);\n    if (!sprite) { return; }\n\n    const position = this.world.get('Position', entityId);\n\n    let spriteFn = getSprite(sprite.name);\n    if (!spriteFn) { spriteFn = getSprite('default'); }\n\n    ctx.position.x = Math.floor(position.x);\n    ctx.position.y = Math.floor(position.y);\n    ctx.rotation = position.rotation + (Math.PI / 2);\n    ctx.scale.x = ctx.scale.y = sprite.size / 100;\n    ctx.lineStyle(this.lineWidth / (sprite.size / 100), 0xFFFFFF);\n    spriteFn(ctx, sprite, entityId, timeDelta);\n\n    sprite.drawn = true;\n    return ctx;\n  }\n\n  followEntity() {\n    if (!this.followEnabled) {\n      this.cameraX = this.cameraY = 0;\n      return;\n    }\n    if (this.options.followName && !this.followEntityId) {\n      // Look up named entity, if necessary.\n      this.followEntityId = Core.getComponent('Name')\n        .findEntityByName(this.world, this.options.followName);\n    }\n    if (this.followEntityId) {\n      // Adjust the viewport center offset to the entity position\n      const position = this.world.get('Position', this.followEntityId);\n      if (position) {\n        this.cameraX = position.x;\n        this.cameraY = position.y;\n        this.setCursor(this.cursorRawX, this.cursorRawY);\n      }\n    }\n  }\n\n  drawBackdrop(/* timeDelta */) {\n    const ctx = this.backdrop;\n\n    if (!this.gridEnabled) {\n      ctx.visible = false;\n      return;\n    }\n\n    const gridSize = this.options.gridSize;\n    const gridOffsetX = this.visibleLeft % gridSize;\n    const gridOffsetY = this.visibleTop % gridSize;\n\n    ctx.visible = true;\n    ctx.clear();\n    ctx.lineStyle(5, this.options.gridColor);\n    ctx.position.x = this.visibleLeft;\n    ctx.position.y = this.visibleTop;\n\n    for (let x = -gridOffsetX; x < this.visibleWidth; x += gridSize) {\n      ctx.moveTo(x, 0);\n      ctx.lineTo(x, this.visibleHeight + gridSize);\n    }\n\n    for (let y = -gridOffsetY; y < this.visibleHeight; y += gridSize) {\n      ctx.moveTo(0, y);\n      ctx.lineTo(this.visibleWidth + gridSize, y);\n    }\n  }\n\n}\n\nCore.registerSystem('ViewportPixi', ViewportPixi);\n\nexport class CanvasSprite extends Core.Component {\n  static defaults() {\n    return {\n      name: null,\n      color: '#fff',\n      size: 100,\n      width: null,\n      height: null,\n      drawn: false,\n      visible: false\n    };\n  }\n  static create(attrs) {\n    const c = super.create(attrs);\n    if (!c.width) { c.width = c.size; }\n    if (!c.height) { c.height = c.size; }\n    return c;\n  }\n}\n\nCore.registerComponent('Sprite', CanvasSprite);\n\nconst spriteRegistry = {};\nexport function registerSprite(name, sprite) {\n  spriteRegistry[name] = sprite;\n}\nexport function getSprite(name) {\n  return spriteRegistry[name];\n}\n\nregisterSprite('default', (ctx, sprite/*, entityId*/) => {\n  if (sprite.drawn) { return; }\n\n  ctx.arc(0, 0, 50, 0, PI2);\n  ctx.moveTo(0, 0);\n  ctx.lineTo(0, -50);\n  ctx.moveTo(0, 0);\n});\n\nregisterSprite('sun', (ctx, sprite/*, entityId*/) => {\n  if (sprite.drawn) { return; }\n\n  ctx.arc(0, 0, 50, 0, PI2, true);\n});\n\nregisterSprite('enemyscout', (ctx, sprite/*, entityId*/) => {\n  if (sprite.drawn) { return; }\n\n  ctx.moveTo(0, -50);\n  ctx.lineTo(-45, 50);\n  ctx.lineTo(-12.5, 12.5);\n  ctx.lineTo(0, 25);\n  ctx.lineTo(12.5, 12.5);\n  ctx.lineTo(45, 50);\n  ctx.lineTo(0, -50);\n  ctx.moveTo(0, -50);\n});\n\nregisterSprite('enemywing', (g, sprite/*, entityId*/) => {\n  if (sprite.drawn) { return; }\n\n  g.lineColor = 0x228822;\n\n  g.moveTo(-50, 0);\n  g.lineTo(-37.5, -37.5);\n  g.lineTo(0, 50);\n  g.lineTo(37.5, -37.5);\n  g.lineTo(50, 0);\n  g.lineTo(37.5, 50);\n  g.lineTo(25, 50);\n  g.lineTo(0, 0);\n  g.lineTo(-25, 50);\n  g.lineTo(-37.5, 50);\n  g.lineTo(-50, 0);\n});\n\n// Linear interpolation from v0 to v1 over t[0..1]\nfunction lerp(v0, v1, t) {\n  return (1-t)*v0 + t*v1;\n}\n\nconst repulsorSides = 8;\nconst repulsorPoints = [];\nfor (let idx = 0; idx < repulsorSides; idx++) {\n  const rot = idx * (PI2 / repulsorSides);\n  repulsorPoints.push(Math.cos(rot));\n  repulsorPoints.push(Math.sin(rot));\n}\nrepulsorPoints.push(repulsorPoints[0]);\nrepulsorPoints.push(repulsorPoints[1]);\n\nregisterSprite('repulsor', (g, sprite, entityId, timeDelta) => {\n  g.clear();\n  g.lineStyle(5 / (sprite.size / 100), 0x228822);\n\n  g.moveTo(-50,     0);\n  g.lineTo(-37.5, -50);\n  g.lineTo(-25,   -50);\n  g.lineTo(-6.25,  25);\n  g.lineTo( 6.25,  25);\n  g.lineTo( 25,   -50);\n  g.lineTo( 37.5, -50);\n  g.lineTo( 50,     0);\n  g.lineTo( 37.5,  50);\n  g.lineTo( 25,    50);\n  g.lineTo( 6.25, -25);\n  g.lineTo(-6.25, -25);\n  g.lineTo(-25,    50);\n  g.lineTo(-37.5,  50);\n  g.lineTo(-50,     0);\n\n  if (!sprite.drawn) {\n    const t = Math.random() * 1.2;\n    sprite.rings = [\n      { t: t, delay: 0,   startR: 0, endR: 500, startO: 1.0, endO: 0.0, endT: 1.5 },\n      { t: t, delay: 0.3, startR: 0, endR: 500, startO: 1.0, endO: 0.0, endT: 1.5 },\n      { t: t, delay: 0.6, startR: 0, endR: 500, startO: 1.0, endO: 0.0, endT: 1.5 }\n    ];\n  }\n\n  sprite.rings.forEach(ring => {\n    if (ring.delay > 0) { return ring.delay -= timeDelta; }\n    ring.t += timeDelta;\n    if (ring.t >= ring.endT) { ring.t = 0; }\n\n    if (!sprite.visible) { return; }\n\n    const r = lerp(ring.startR, ring.endR, ring.t / ring.endT);\n    const a = lerp(ring.startO, ring.endO, ring.t / ring.endT);\n\n    g.lineStyle(5 / (sprite.size / 100), 0x228822, a);\n\n    g.moveTo(-r, 0);\n    g.drawPolygon(repulsorPoints.map(p => r * p));\n  });\n});\n\nregisterSprite('hero', (g, sprite/*, entityId*/) => {\n  if (sprite.drawn) { return; }\n\n  g.moveTo(-50, 0);\n  g.lineTo(-37.5, -37.5);\n  g.lineTo(0, -50);\n  g.lineTo(37.5, -37.5);\n  g.lineTo(50, 0);\n  g.lineTo(37.5, 50);\n  g.lineTo(25, 50);\n  g.lineTo(12.5, 12.5);\n  g.lineTo(5, 25);\n  g.lineTo(-5, 25);\n  g.lineTo(-12.5, 12.5);\n  g.lineTo(-25, 50);\n  g.lineTo(-37.5, 50);\n  g.lineTo(-50, 0);\n});\n\nregisterSprite('asteroid', (ctx, sprite/*, entityId*/) => {\n  if (sprite.drawn) { return; }\n\n  const NUM_POINTS = 10 + Math.floor(8 * Math.random());\n  const MAX_RADIUS = 50;\n  const MIN_RADIUS = 35;\n  const ROTATION = PI2 / NUM_POINTS;\n\n  let idx;\n  const points = [];\n\n  for (idx = 0; idx < NUM_POINTS; idx++) {\n    const rot = idx * ROTATION;\n    const dist = (Math.random() * (MAX_RADIUS - MIN_RADIUS)) + MIN_RADIUS;\n    points.push(dist * Math.cos(rot));\n    points.push(dist * Math.sin(rot));\n  }\n  points.push(points[0]);\n  points.push(points[1]);\n\n  ctx.drawPolygon(points);\n});\n\nregisterSprite('mine', (g, sprite/*, entityId*/) => {\n  if (sprite.drawn && Math.random() > 0.1) { return; }\n\n  if (!sprite.drawn) {\n    let NUM_POINTS = 10 + Math.floor(10 * Math.random());\n    if (NUM_POINTS % 2 !== 0) { NUM_POINTS++; }\n\n    const MAX_RADIUS = 60;\n    const MIN_RADIUS = 10;\n    sprite.legs = [];\n    let even = false;\n    for (let idx = 0; idx < NUM_POINTS; idx++) {\n      const dist = even ? 10 : (Math.random() * (MAX_RADIUS - MIN_RADIUS)) + MIN_RADIUS;\n      sprite.legs.push(dist);\n      even = !even;\n    }\n  }\n\n  const points = [];\n  const ROTATION = PI2 / sprite.legs.length;\n  sprite.legs.forEach((dist, idx) => {\n    const shakeDist = dist * (0.9 + 0.5 * Math.random());\n    const rot = idx * ROTATION;\n    points.push(shakeDist * Math.cos(rot));\n    points.push(shakeDist * Math.sin(rot));\n  });\n  points.push(points[0]);\n  points.push(points[1]);\n\n  g.clear();\n  g.lineStyle(5 / (sprite.size / 100), 0xFF2222);\n  g.drawPolygon(points);\n});\n","import * as Core from '../lib/core';\n\nexport class Name extends Core.Component {\n  static defaults() {\n    return { name: 'unnamed' };\n  }\n  static findEntityByName(world, name) {\n    const names = world.get('Name');\n    for (const nid in names) {\n      const nameComponent = names[nid];\n      if (nameComponent.name === name) {\n        return nid;\n      }\n    }\n  }\n}\n\nCore.registerComponent('Name', Name);\n","import * as Core from '../lib/core';\n\nexport class Health extends Core.Component {\n  static defaults() {\n    return { max: 1000, current: null, show_bar: true };\n  }\n  static create(attrs) {\n    const c = super.create(attrs);\n    c.current = c.max;\n    return c;\n  }\n}\n\nCore.registerComponent('Health', Health);\n","/**\n * @author       Timo Hausmann\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2014 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\n/**\n * A QuadTree implementation. The original code was a conversion of the Java code posted to GameDevTuts.\n * However I've tweaked it massively to add node indexing, removed lots of temp. var creation and significantly increased performance as a result.\n * Original version at https://github.com/timohausmann/quadtree-js/\n *\n * @class QuadTree\n * @constructor\n * @param {number} x - The top left coordinate of the quadtree.\n * @param {number} y - The top left coordinate of the quadtree.\n * @param {number} width - The width of the quadtree in pixels.\n * @param {number} height - The height of the quadtree in pixels.\n * @param {number} [maxObjects=10] - The maximum number of objects per node.\n * @param {number} [maxLevels=4] - The maximum number of levels to iterate to.\n * @param {number} [level=0] - Which level is this?\n */\nexport default function QuadTree(left, top, width, height, maxObjects, maxLevels, level, root) {\n\n  /**\n   * @property {number} maxObjects - The maximum number of objects per node.\n   * @default\n   */\n  this.maxObjects = 10;\n\n  /**\n   * @property {number} maxLevels - The maximum number of levels to break down to.\n   * @default\n   */\n  this.maxLevels = 4;\n\n  /**\n   * @property {number} level - The current level.\n   */\n  this.level = 0;\n\n  /**\n   * @property {object} bounds - Object that contains the quadtree bounds.\n   */\n  this.bounds = {};\n\n  /**\n   * @property {array} objects - Array of quadtree children.\n   */\n  this.objects = [];\n\n  /**\n   * @property {array} nodes - Array of associated child nodes.\n   */\n  this.nodes = [];\n\n  /**\n   * @property {array} _empty - Internal empty array.\n   * @private\n   */\n  this._empty = [];\n\n  this.root = root || this;\n  this.entityMap = {};\n\n  this.reset(left, top, width, height, maxObjects, maxLevels, level);\n\n};\n\nQuadTree.prototype = {\n\n  /**\n   * Resets the QuadTree.\n   *\n   * @method QuadTree#reset\n   * @param {number} x - The top left coordinate of the quadtree.\n   * @param {number} y - The top left coordinate of the quadtree.\n   * @param {number} width - The width of the quadtree in pixels.\n   * @param {number} height - The height of the quadtree in pixels.\n   * @param {number} [maxObjects=10] - The maximum number of objects per node.\n   * @param {number} [maxLevels=4] - The maximum number of levels to iterate to.\n   * @param {number} [level=0] - Which level is this?\n   */\n  reset: function (left, top, width, height, maxObjects, maxLevels, level) {\n\n    this.maxObjects = maxObjects || 10;\n    this.maxLevels = maxLevels || 4;\n    this.level = level || 0;\n\n    this.bounds = {\n      width: width,\n      height: height,\n      subWidth: Math.floor(width / 2),\n      subHeight: Math.floor(height / 2),\n      left: Math.round(left),\n      top: Math.round(top),\n      midX: Math.round(left + width / 2),\n      midY: Math.round(top + height / 2),\n      right: Math.round(left + width),\n      bottom: Math.round(top + height)\n    };\n\n    this.objects.length = 0;\n    this.nodes.length = 0;\n\n  },\n\n  /**\n   * Split the node into 4 subnodes\n   *\n   * @method QuadTree#split\n   */\n  split: function () {\n\n    //  top right node\n    this.nodes[0] = new QuadTree(\n      this.bounds.left + this.bounds.subWidth,\n      this.bounds.top,\n      this.bounds.subWidth, this.bounds.subHeight,\n      this.maxObjects, this.maxLevels, (this.level + 1), this.root\n    );\n\n    //  top left node\n    this.nodes[1] = new QuadTree(\n      this.bounds.left,\n      this.bounds.top,\n      this.bounds.subWidth, this.bounds.subHeight,\n      this.maxObjects, this.maxLevels, (this.level + 1), this.root\n    );\n\n    //  bottom left node\n    this.nodes[2] = new QuadTree(\n      this.bounds.left,\n      this.bounds.top + this.bounds.subHeight,\n      this.bounds.subWidth, this.bounds.subHeight,\n      this.maxObjects, this.maxLevels, (this.level + 1), this.root\n    );\n\n    //  bottom right node\n    this.nodes[3] = new QuadTree(\n      this.bounds.left + this.bounds.subWidth,\n      this.bounds.top + this.bounds.subHeight,\n      this.bounds.subWidth, this.bounds.subHeight,\n      this.maxObjects, this.maxLevels, (this.level + 1), this.root\n    );\n\n  },\n\n  /**\n   * Insert the object into the node. If the node exceeds the capacity, it will split and add all objects to their corresponding subnodes.\n   *\n   * @method QuadTree#insert\n   * @param {Phaser.Physics.Arcade.Body|object} body - The Body object to insert into the quadtree. Can be any object so long as it exposes x, y, right and bottom properties.\n   */\n  insert: function (body) {\n\n    var i = 0;\n    var index;\n\n    //  if we have subnodes ...\n    if (this.nodes[0] != null) {\n      index = this.getIndex(body);\n      if (index !== -1) {\n        this.nodes[index].insert(body);\n        return;\n      }\n    }\n\n    // Check if we already have this item in the quadtree structure.\n    var oldNode = this.root.entityMap[body.entityId];\n    if (oldNode === this) {\n      // If we have the item, and it's this current sub-tree, then just bail.\n      return;\n    }\n    if (oldNode) {\n      // If the item is known, but in another sub-tree, then delete it from there.\n      var objectIndex = oldNode.objects.indexOf(body);\n      if (objectIndex !== -1) {\n        oldNode.objects.splice(objectIndex, 1);\n      }\n    }\n\n    /*\n    // TODO: Need the opposite of split() to consolidate subtrees when they\n    // lose items.\n\n    this.root.entityMap[body.entityId] = this;\n    */\n\n    this.objects.push(body);\n\n    if (this.objects.length > this.maxObjects && this.level < this.maxLevels) {\n      //  Split if we don't already have subnodes\n      if (this.nodes[0] == null) {\n        this.split();\n      }\n      //  Add objects to subnodes\n      while (i < this.objects.length) {\n        index = this.getIndex(this.objects[i]);\n        if (index !== -1) {\n          //  this is expensive - see what we can do about it\n          this.nodes[index].insert(this.objects.splice(i, 1)[0]);\n        } else {\n          i++;\n        }\n      }\n    }\n\n  },\n\n  /**\n   * Determine which node the object belongs to.\n   *\n   * @method QuadTree#getIndex\n   * @param {Phaser.Rectangle|object} rect - The bounds in which to check.\n   * @return {number} index - Index of the subnode (0-3), or -1 if rect cannot completely fit within a subnode and is part of the parent node.\n   */\n  getIndex: function (rect) {\n    if (rect.left < this.bounds.midX && rect.right < this.bounds.midX) {\n      if (rect.top < this.bounds.midY && rect.bottom < this.bounds.midY) {\n        //  rect fits within the top-left quadrant of this quadtree\n        return 1;\n      } else if (rect.top > this.bounds.midY) {\n        //  rect fits within the bottom-left quadrant of this quadtree\n        return 2;\n      }\n    } else if (rect.left > this.bounds.midX) {\n      //  rect can completely fit within the right quadrants\n      if (rect.top < this.bounds.midY && rect.bottom < this.bounds.midY) {\n        //  rect fits within the top-right quadrant of this quadtree\n        return 0;\n      } else if (rect.top > this.bounds.midY) {\n        //  rect fits within the bottom-right quadrant of this quadtree\n        return 3;\n      }\n    }\n    // rect doesn't fit, i.e. it straddles the internal quadrants\n    return -1;\n  },\n\n  /**\n   * Iterate through all objects that could collide with the given Sprite or Rectangle.\n   *\n   * @method QuadTree#retrieve\n   * @param {Phaser.Sprite|Phaser.Rectangle} source - The source object to check the QuadTree against. Either a Sprite or Rectangle.\n   */\n  iterate: function (source, iteratorFn, optionalParam) {\n    var index = this.getIndex(source);\n\n    for (var i = 0; i < this.objects.length; i++) {\n      iteratorFn(this.objects[i], optionalParam);\n    }\n\n    if (this.nodes[0]) {\n      //  If rect fits into a subnode ..\n      if (index !== -1) {\n        this.nodes[index].iterate(source, iteratorFn, optionalParam);\n      } else {\n        //  If rect does not fit into a subnode, check it against all subnodes (unrolled for speed)\n        this.nodes[0].iterate(source, iteratorFn, optionalParam);\n        this.nodes[1].iterate(source, iteratorFn, optionalParam);\n        this.nodes[2].iterate(source, iteratorFn, optionalParam);\n        this.nodes[3].iterate(source, iteratorFn, optionalParam);\n      }\n    }\n  },\n\n  /**\n   * Clear the quadtree.\n   * @method QuadTree#clear\n   */\n  clear: function () {\n    this.objects.length = 0;\n    var i = this.nodes.length;\n    while (i--) {\n      this.nodes[i].clear();\n      this.nodes.splice(i, 1);\n    }\n    this.nodes.length = 0;\n  }\n\n};\n\n/**\n * Javascript QuadTree\n * @version 1.0\n *\n * @version 1.3, March 11th 2014\n * @author Richard Davey\n * The original code was a conversion of the Java code posted to GameDevTuts. However I've tweaked\n * it massively to add node indexing, removed lots of temp. var creation and significantly\n * increased performance as a result.\n *\n * Original version at https://github.com/timohausmann/quadtree-js/\n */\n\n/**\n * @copyright © 2012 Timo Hausmann\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n","import { Component, System, registerComponent, registerSystem } from '../lib/core';\nimport QuadTree from '../lib/QuadTree';\n\nexport class Position extends Component {\n  static defaults() {\n    return { x: 0, y: 0, rotation: 0 };\n  }\n}\n\nregisterComponent('Position', Position);\n\nlet entityId, sprite, position, positions;\n\nexport class PositionSystem extends System {\n\n  defaultOptions() {\n    return {\n      quadtreeMaxAge: 2,\n      quadtreeObjectsPerNode: 5,\n      quadtreeMaxLevels: 5\n    };\n  }\n\n  matchComponent() { return 'Position'; }\n\n  initialize() {\n    this.bounds = {\n      left: 0, top: 0, right: 0, bottom: 0,\n      width: 0, height: 0\n    };\n    this.quadtree = new QuadTree(\n      -1000, -1000, 2000, 2000,\n      this.options.quadtreeObjectsPerNode,\n      this.options.quadtreeMaxLevels\n    );\n  }\n\n  update(timeDelta) {\n    this.updateBounds();\n    this.resetQuadtree(timeDelta);\n    super.update(timeDelta);\n  }\n\n  resetQuadtree() {\n    this.quadtree.reset(\n      this.bounds.left,\n      this.bounds.top,\n      this.bounds.width,\n      this.bounds.height,\n      this.options.quadtreeObjectsPerNode,\n      this.options.quadtreeMaxLevels\n    );\n  }\n\n  updateBounds() {\n    this.bounds.left = this.bounds.top = this.bounds.right = this.bounds.bottom = null;\n    positions = this.getMatchingComponents();\n    for (entityId in positions) {\n      position = positions[entityId];\n      if (this.bounds.left === null || position.left < this.bounds.left) { this.bounds.left = position.left; }\n      if (this.bounds.top === null || position.top < this.bounds.top) { this.bounds.top = position.top; }\n      if (this.bounds.right === null || position.right > this.bounds.right) { this.bounds.right = position.right; }\n      if (this.bounds.bottom === null || position.bottom > this.bounds.bottom) { this.bounds.bottom = position.bottom; }\n    }\n    this.bounds.width = this.bounds.right - this.bounds.left;\n    this.bounds.height = this.bounds.bottom - this.bounds.top;\n  }\n\n  updateComponent(timeDelta, entityId, position) {\n    sprite = this.world.get('Sprite', entityId);\n    if (!sprite) { return; }\n\n    const halfWidth = sprite.width / 2;\n    const halfHeight = sprite.height / 2;\n\n    position.entityId = entityId;\n    position.width = sprite.width;\n    position.height = sprite.height;\n    position.left = position.x - halfWidth;\n    position.top = position.y - halfHeight;\n    position.right = position.x + halfWidth;\n    position.bottom = position.y + halfHeight;\n\n    this.quadtree.insert(position);\n  }\n\n  draw(/* timeDelta */) {\n    const g = this.getDebugGraphics();\n    if (!g) { return; }\n\n    g.lineStyle(4, 0x882222);\n    positions = this.getMatchingComponents();\n    for (entityId in positions) {\n      position = positions[entityId];\n      sprite = this.world.get('Sprite', entityId);\n      g.drawCircle(position.x, position.y, sprite.width / 2);\n      g.moveTo(position.x - 20, position.y);\n      g.lineTo(position.x + 20, position.y);\n      g.moveTo(position.x, position.y - 20);\n      g.lineTo(position.x, position.y + 20);\n    }\n\n    g.lineStyle(4, 0x228822);\n    this.drawDebugQuadtreeNode(g, this.quadtree);\n\n    g.lineStyle(4, 0xffff33);\n    g.moveTo(-20, 0);\n    g.lineTo(20, 0);\n    g.moveTo(0, -20);\n    g.lineTo(0, 20);\n    g.moveTo(0, 0);\n    g.drawRect(\n      this.bounds.left,\n      this.bounds.top,\n      this.bounds.width,\n      this.bounds.height\n    );\n  }\n\n  drawDebugQuadtreeNode(g, root) {\n    if (!root) { return; }\n\n    g.lineStyle(4, 0x883388);\n    g.drawRect(root.bounds.left, root.bounds.top,\n               root.bounds.width, root.bounds.height);\n\n    g.lineStyle(4, 0x112222);\n    root.objects.forEach(body =>\n      g.drawRect(body.left, body.top, body.width, body.height));\n\n    this.drawDebugQuadtreeNode(g, root.nodes[0]);\n    this.drawDebugQuadtreeNode(g, root.nodes[1]);\n    this.drawDebugQuadtreeNode(g, root.nodes[2]);\n    this.drawDebugQuadtreeNode(g, root.nodes[3]);\n  }\n}\n\nregisterSystem('Position', PositionSystem);\n","import * as Core from '../lib/core';\n\nimport './position';\n\nconst PI2 = Math.PI * 2;\n\nexport class Motion extends Core.Component {\n  static defaults() {\n    return { dx: 0, dy: 0, drotation: 0 };\n  }\n}\nCore.registerComponent('Motion', Motion);\n\nexport class MotionSystem extends Core.System {\n  matchComponent() {\n    return 'Motion';\n  }\n  updateComponent(timeDelta, entityId, motion) {\n    const pos = this.world.get('Position', entityId);\n    pos.x += motion.dx * timeDelta;\n    pos.y += motion.dy * timeDelta;\n\n    // Update the rotation, ensuring a 0..2*Math.PI range.\n    pos.rotation = (pos.rotation + (motion.drotation * timeDelta)) % PI2;\n    if (pos.rotation < 0) {\n      pos.rotation += PI2;\n    }\n  }\n}\nCore.registerSystem('Motion', MotionSystem);\n","/*\r\n  Originally by Vitalii [Nayjest] Stepanenko <gmail@vitaliy.in>\r\n  Tweaky & fixes by Les Orchard <me@lmorchard.com>\r\n*/\r\n\r\nexport default function Vector2D(x, y) {\r\n  this.x = x || 0;\r\n  this.y = y || 0;\r\n}\r\n\r\nVector2D.cloneFrom = function(object) {\r\n  return new Vector2D(object.x, object.y);\r\n};\r\n\r\nVector2D.fromArray = function(array) {\r\n  return new Vector2D(array[0], array[1]);\r\n};\r\n\r\nVector2D.zero = new Vector2D(0, 0);\r\n\r\nVector2D.prototype.add = function(vector) {\r\n  this.x += vector.x;\r\n  this.y += vector.y;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.addScalar = function(val) {\r\n  this.x += val;\r\n  this.y += val;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.eq = function(vector) {\r\n  return vector.x === this.x && vector.y === this.y;\r\n};\r\n\r\nVector2D.prototype.subtract = function(vector) {\r\n  this.x -= vector.x;\r\n  this.y -= vector.y;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.clone = function() {\r\n  return new Vector2D(this.x, this.y);\r\n};\r\n\r\nVector2D.prototype.set = function(vector) {\r\n  this.x = vector.x;\r\n  this.y = vector.y;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.setValues = function(_at_x, _at_y) {\r\n  this.x = _at_x;\r\n  this.y = _at_y;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.dist = function(vector) {\r\n  return Math.sqrt((vector.x - this.x) * (vector.x - this.x) + (vector.y - this.y) * (vector.y - this.y));\r\n};\r\n\r\nVector2D.prototype.normalise = function() {\r\n  return this.normalize();\r\n};\r\n\r\nVector2D.prototype.normalize = function() {\r\n  if (!this.isZero()) {\n    const m = this.magnitude();\n    this.x /= m;\r\n    this.y /= m;\r\n  }\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.isZero = function() {\r\n  return this.x === 0 && this.y === 0;\r\n};\r\n\r\nVector2D.prototype.reverse = function() {\r\n  this.x = -this.x;\r\n  this.y = -this.y;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.magnitude = function() {\r\n  return Math.sqrt(this.x * this.x + this.y * this.y);\r\n};\r\n\r\nVector2D.prototype.toArray = function() {\r\n  return [this.x, this.y];\r\n};\r\n\r\nVector2D.prototype.angle = function() {\r\n  return Math.atan2(this.y, this.x);\r\n};\r\n\r\nVector2D.prototype.rotate = function(angle) {\r\n  const cos = Math.cos(angle);\n  const sin = Math.sin(angle);\n  return this.setValues(this.x * cos - this.y * sin, this.x * sin + this.y * cos);\r\n};\r\n\r\nVector2D.prototype.angleTo = function(vector) {\r\n  return Math.atan2(vector.y - this.y, vector.x - this.x);\r\n};\r\n\r\nVector2D.prototype.rotateAround = function(point, angle) {\r\n  return this.subtract(point).rotate(angle).add(point);\r\n};\r\n\r\nVector2D.prototype.multiplyScalar = function(val) {\r\n  this.x *= val;\r\n  this.y *= val;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.multiply = function(vector) {\r\n  this.x *= vector.x;\r\n  this.y *= vector.y;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.divide = function(vector) {\r\n  this.x /= vector.x;\r\n  this.y /= vector.y;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.divideScalar = function(val) {\r\n  this.x /= val;\r\n  this.y /= val;\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.round = function() {\r\n  this.x = Math.round(this.x);\r\n  this.y = Math.round(this.y);\r\n  return this;\r\n};\r\n\r\nVector2D.prototype.dot = function(vector) {\r\n  return (this.x * vector.x) + (this.y * vector.y);\r\n};\r\n","import * as Core from '../lib/core';\n\nimport './position';\nimport './motion';\n\nimport Vector2D from '../lib/Vector2D';\n\nexport class Thruster extends Core.Component {\n  static defaults() {\n    return {\n      active: true,\n      stop: false,\n      useBrakes: true,\n      deltaV: 0,\n      maxV: 0\n    };\n  }\n}\nCore.registerComponent('Thruster', Thruster);\n\nexport class ThrusterSystem extends Core.System {\n\n  matchComponent() { return 'Thruster'; }\n\n  initialize() {\n    this.vInertia = new Vector2D();\n    this.vThrust = new Vector2D();\n    this.vBrakes = new Vector2D();\n  }\n\n  updateComponent(timeDelta, entityId, thruster) {\n\n    if (!thruster.active) { return; }\n\n    const pos = this.world.get('Position', entityId);\n    const motion = this.world.get('Motion', entityId);\n    if (!pos || !motion) { return; }\n\n    // Inertia is current motion\n    this.vInertia.setValues(motion.dx, motion.dy);\n\n    // delta-v available for the current tick\n    const tickDeltaV = timeDelta * thruster.deltaV;\n\n    if (!thruster.stop) {\n      // Create thrust vector per rotation and add to inertia.\n      this.vThrust.setValues(tickDeltaV, 0);\n      this.vThrust.rotate(pos.rotation);\n      this.vInertia.add(this.vThrust);\n    }\n\n    if (thruster.useBrakes) {\n      // Try to enforce the max_v limit with braking thrust.\n      const maxV = thruster.stop ? 0 : thruster.maxV;\n      const currV = this.vInertia.magnitude();\n      const overV = currV - maxV;\n      if (overV > 0) {\n        // Braking delta-v is max thruster output or remaining overage,\n        // whichever is smallest. Braking vector opposes inertia.\n        const brakingDv = Math.min(tickDeltaV, overV);\n        this.vBrakes.setValues(this.vInertia.x, this.vInertia.y);\n        this.vBrakes.normalize();\n        this.vBrakes.multiplyScalar(0-brakingDv);\n        this.vInertia.add(this.vBrakes);\n      }\n      if (thruster.stop && currV === 0) {\n        thruster.active = false;\n      }\n    }\n\n    // Update inertia. Note that we've been careful only to make changes\n    // to inertia within the delta-v of the thruster. Other influences\n    // on inertia should be preserved.\n    motion.dx = this.vInertia.x;\n    motion.dy = this.vInertia.y;\n  }\n\n}\nCore.registerSystem('Thruster', ThrusterSystem);\n","import * as Core from '../lib/core';\n\nimport '../plugins/position';\nimport '../plugins/motion';\n\nimport Vector2D from '../lib/Vector2D';\n\nexport class Seeker extends Core.Component {\n  static defaults() {\n    return {\n      active: true,\n      targetName: null,\n      targetEntityId: null,\n      targetPosition: null,\n      acquisitionDelay: 0,\n      radPerSec: Math.PI\n    };\n  }\n}\n\nCore.registerComponent('Seeker', Seeker);\n\nexport class SeekerSystem extends Core.System {\n\n  matchComponent() { return 'Seeker'; }\n\n  initialize() {\n    this.vSeeker = new Vector2D();\n    this.vTarget = new Vector2D();\n  }\n\n  updateComponent(timeDelta, entityId, seeker) {\n\n    if (!seeker.active) { return; }\n\n    // Look up the orbited entity ID, if only name given.\n    if (seeker.targetName && !seeker.targetEntityId) {\n      seeker.targetEntityId = Core.getComponent('Name')\n        .findEntityByName(this.world, seeker.targetName);\n    }\n\n    // Process a delay before the seeker 'acquires' the target and\n    // starts steering. Makes missiles look interesting.\n    if (seeker.acquisitionDelay > 0) {\n      seeker.acquisitionDelay -= timeDelta;\n      return;\n    }\n\n    const position = this.world.get('Position', entityId);\n    const motion = this.world.get('Motion', entityId);\n    if (!position || !motion) { return; }\n\n    // Accept either a raw x/y coord or entity ID as target\n    let targetPosition = seeker.targetPosition;\n    if (!targetPosition) {\n      targetPosition = this.world.get('Position', seeker.targetEntityId);\n    }\n    if (!targetPosition) { return; }\n\n    // Set up the vectors for angle math...\n    this.vSeeker.setValues(position.x, position.y);\n    this.vTarget.setValues(targetPosition.x, targetPosition.y);\n\n    // Get the target angle, ensuring a 0..2*Math.PI range.\n    let targetAngle = this.vSeeker.angleTo(this.vTarget);\n    if (targetAngle < 0) {\n      targetAngle += (2 * Math.PI);\n    }\n\n    // Pick the direction from current to target angle\n    let direction = (targetAngle < position.rotation) ? -1 : 1;\n\n    // If the offset between the angles is more than half a circle, go\n    // the other way because it'll be shorter.\n    const offset = Math.abs(targetAngle - position.rotation);\n    if (offset > Math.PI) {\n      direction = 0 - direction;\n    }\n\n    // Work out the desired delta-rotation to steer toward target\n    const targetDr = direction * Math.min(seeker.radPerSec, offset / timeDelta);\n\n    // Calculate the delta-rotation impulse required to meet the goal,\n    // but constrain to the capability of the steering thrusters\n    let impulseDr = (targetDr - motion.drotation);\n    if (Math.abs(impulseDr) > seeker.radPerSec) {\n      if (impulseDr > 0) {\n        impulseDr = seeker.radPerSec;\n      } else if (impulseDr < 0) {\n        impulseDr = 0 - seeker.radPerSec;\n      }\n    }\n    motion.drotation += impulseDr;\n\n  }\n\n}\n\nCore.registerSystem('Seeker', SeekerSystem);\n","import * as Core from '../lib/core';\n\nexport class Collidable extends Core.Component {\n  static defaults() {\n    return {\n      inCollision: false,\n      inCollisionWith: {}\n    };\n  }\n}\n\nCore.registerComponent('Collidable', Collidable);\n\nlet match, matches, entityId, entityId2, position, aCollidable, bCollidable, dx, dy, radii;\n\nexport class CollisionSystem extends Core.System {\n\n  defaultOptions() {\n    return {\n      positionSystemName: 'Position'\n    };\n  }\n\n  matchComponent() { return 'Collidable'; }\n\n  initialize() {\n    this.positionSystem = this.world.getSystem(this.options.positionSystemName);\n    this.width = this.options.width;\n    this.height = this.options.height;\n    this.retrieveBounds = {};\n    this.checkCollisionBound = (neighbor, component) =>\n      this.checkCollision(neighbor, component);\n  }\n\n  update(/* timeDelta */) {\n    matches = this.getMatchingComponents();\n    for (entityId in matches) {\n      match = matches[entityId];\n      match.inCollision = false;\n      for (entityId2 in match.inCollisionWith) {\n        delete match.inCollisionWith[entityId2];\n      }\n    }\n    for (entityId in matches) {\n      position = this.world.get('Position', entityId);\n      if (position) {\n        this.positionSystem.quadtree.iterate(position, this.checkCollisionBound, position);\n      }\n    }\n  }\n\n  checkCollision(bPosition, aPosition) {\n    if (aPosition.entityId === bPosition.entityId) { return; }\n\n    aCollidable = this.world.get('Collidable', aPosition.entityId);\n    bCollidable = this.world.get('Collidable', bPosition.entityId);\n\n    if (!aCollidable || !bCollidable) { return; }\n\n    dx = aPosition.x - bPosition.x;\n    dy = aPosition.y - bPosition.y;\n\n    // TODO: Pluggable shape intersection detection here?\n\n    // Check collision circle via distance\n    radii = (aPosition.width + bPosition.width) / 2;\n    if (dx*dx + dy*dy > radii*radii) { return; }\n\n    aCollidable.inCollision = true;\n    aCollidable.inCollisionWith[bPosition.entityId] = 1;\n\n    bCollidable.inCollision = true;\n    bCollidable.inCollisionWith[aPosition.entityId] = 1;\n  }\n\n  draw(/* timeDelta */) {\n    const g = this.getDebugGraphics();\n    if (!g) { return; }\n\n    g.lineStyle(4, 0x999999);\n    const collidables = this.world.get('Collidable');\n    for (const entityId in collidables) {\n      const collidable = collidables[entityId];\n      const position = this.world.get('Position', entityId);\n\n      if (collidable.inCollision) {\n        g.drawCircle(position.x, position.y, 40);\n      }\n    }\n\n  }\n}\n\nCore.registerSystem('Collision', CollisionSystem);\n","import * as Core from '../lib/core';\n\nimport './position';\nimport './motion';\n\nimport Vector2D from '../lib/Vector2D';\n\nexport class BounceComponent extends Core.Component {\n  static defaults() {\n    return {\n      mass: 1000.0\n    };\n  }\n}\n\nCore.registerComponent('Bounce', BounceComponent);\n\nexport class BounceSystem extends Core.System {\n\n  matchComponent() { return 'Bounce'; }\n\n  initialize() {\n    this.dn = new Vector2D();\n    this.dt = new Vector2D();\n    this.mt = new Vector2D();\n    this.v1 = new Vector2D();\n    this.v2 = new Vector2D();\n    this.v1n = new Vector2D();\n    this.v1t = new Vector2D();\n    this.v2n = new Vector2D();\n    this.v2t = new Vector2D();\n  }\n\n  update(timeDelta) {\n    const entities = this.world;\n    const matches = this.getMatchingComponents();\n\n    const pairs = {};\n    for (const aEntityId in matches) {\n\n      // const bounce = matches[aEntityId];\n      const aCollidable = entities.get('Collidable', aEntityId);\n\n      for (const bEntityId in aCollidable.inCollisionWith) {\n        const pair = [aEntityId, bEntityId];\n        pair.sort();\n        pairs[pair.join(':')] = pair;\n      }\n\n      // TODO: Process world boundary edge bounce?\n\n    }\n\n    for (const key in pairs) {\n      const aEntityId = pairs[key][0];\n      const aBouncer = entities.get('Bounce', aEntityId);\n      if (!aBouncer) { continue; }\n\n      const bEntityId = pairs[key][1];\n      const bBouncer = entities.get('Bounce', bEntityId);\n      if (!bBouncer) { continue; }\n\n      this.resolveElasticCollision(timeDelta, aEntityId, aBouncer, bEntityId, bBouncer);\n    }\n\n  }\n\n  // See also:\n  // http://en.m.wikipedia.org/wiki/Elastic_collision\n  // http://en.m.wikipedia.org/wiki/Dot_product\n  // https://github.com/Edifear/volleyball/blob/master/collision.html\n  // https://github.com/DominikWidomski/Processing/blob/master/sketch_canvas_red_particles/particles.pde#L47\n  resolveElasticCollision(timeDelta, aEntityId, aBouncer, bEntityId, bBouncer) {\n\n    const entities = this.world;\n\n    const aPosition = entities.get('Position', aEntityId);\n    const aSprite = entities.get('Sprite', aEntityId);\n    const aMotion = entities.get('Motion', aEntityId);\n\n    const bPosition = entities.get('Position', bEntityId);\n    const bSprite = entities.get('Sprite', bEntityId);\n    const bMotion = entities.get('Motion', bEntityId);\n\n    // First, back both entities off to try to prevent sticking\n    /*\n    aPosition.x -= aMotion.dx * timeDelta;\n    aPosition.y -= aMotion.dy * timeDelta;\n    bPosition.x -= bMotion.dx * timeDelta;\n    bPosition.y -= bMotion.dy * timeDelta;\n    const radii, dx, dy;\n    while (true) {\n      aPosition.x -= aMotion.dx * timeDelta;\n      aPosition.y -= aMotion.dy * timeDelta;\n      bPosition.x -= bMotion.dx * timeDelta;\n      bPosition.y -= bMotion.dy * timeDelta;\n\n      radii = (aSprite.size + bSprite.size) / 2;\n      dx = aPosition.x - bPosition.x;\n      dy = aPosition.y - bPosition.y;\n      if (dx*dx + dy*dy > radii*radii) { break; }\n    }\n    */\n\n    // Vector between entities\n    this.dn.setValues(aPosition.x - bPosition.x, aPosition.y - bPosition.y);\n\n    // Distance between entities\n    const delta = this.dn.magnitude();\n\n    // Normal vector of the collision plane\n    this.dn.normalize();\n\n    // Tangential vector of the collision plane\n    this.dt.setValues(this.dn.y, -this.dn.x);\n\n    // HACK: avoid divide by zero\n    if (delta === 0) { bPosition.x += 0.01; }\n\n    // Get total mass for entities\n    const m1 = aBouncer.mass;\n    const m2 = bBouncer.mass;\n    const M = m1 + m2;\n\n    // Minimum translation vector to push entities apart\n    this.mt.setValues(\n      this.dn.x * (aSprite.width + bSprite.width - delta) * 1.1,\n      this.dn.y * (aSprite.height + bSprite.height - delta) * 1.1\n    );\n\n    // Velocity vectors of entities before collision\n    this.v1.setValues((aMotion) ? aMotion.dx : 0, (aMotion) ? aMotion.dy : 0);\n    this.v2.setValues((bMotion) ? bMotion.dx : 0, (bMotion) ? bMotion.dy : 0);\n\n    // split the velocity vector of the first entity into a normal\n    // and a tangential component in respect of the collision plane\n    this.v1n.setValues(\n      this.dn.x * this.v1.dot(this.dn),\n      this.dn.y * this.v1.dot(this.dn)\n    );\n    this.v1t.setValues(\n      this.dt.x * this.v1.dot(this.dt),\n      this.dt.y * this.v1.dot(this.dt)\n    );\n\n    // split the velocity vector of the second entity into a normal\n    // and a tangential component in respect of the collision plane\n    this.v2n.setValues(\n      this.dn.x * this.v2.dot(this.dn),\n      this.dn.y * this.v2.dot(this.dn)\n    );\n    this.v2t.setValues(\n      this.dt.x * this.v2.dot(this.dt),\n      this.dt.y * this.v2.dot(this.dt)\n    );\n\n    // calculate new velocity vectors of the entities, the tangential\n    // component stays the same, the normal component changes analog to\n    // the 1-Dimensional case\n\n    if (aMotion) {\n      const aFactor = (m1 - m2) / M * this.v1n.magnitude() +\n                    2 * m2 / M * this.v2n.magnitude();\n      aMotion.dx = this.v1t.x + this.dn.x * aFactor;\n      aMotion.dy = this.v1t.y + this.dn.y * aFactor;\n      // @processDamage(eid, bEntityId, v_motion, bouncer, m1)\n    }\n\n    if (bMotion) {\n      const bFactor = (m2 - m1) / M * this.v2n.magnitude() +\n                    2 * m1 / M * this.v1n.magnitude();\n      bMotion.dx = this.v2t.x - this.dn.x * bFactor;\n      bMotion.dy = this.v2t.y - this.dn.y * bFactor;\n      // @processDamage(eid, bEntityId, v_bMotion, c_bouncer, m2)\n    }\n\n  }\n\n}\n\nCore.registerSystem('Bounce', BounceSystem);\n","import { Component, System, registerComponent, registerSystem } from '../lib/core';\r\n\r\nexport class Repulsor extends Component {\r\n    static defaults() {\n      return {\n        range: 500,\n        force: 200\n      };\n    }\n}\r\n\r\nregisterComponent('Repulsor', Repulsor);\r\n\nlet components, component, entityId, entityId2, position, repulsor, repulsorPosition,\n    neighborSprite, neighborPosition, neighborMotion, repelAngle, repelForce,\n    dist;\n\nconst queryBounds = {};\n\nexport class RepulsorSystem extends System {\n\n  defaultOptions() {\n    return {\n      positionSystemName: 'Position'\n    };\n  }\n\n  matchComponent() { return 'Repulsor'; }\n\n  initialize() {\n    this.positionSystem = this.world.getSystem(this.options.positionSystemName);\n    this.applyRepulsionBound = (neighbor, component) =>\n      this.applyRepulsion(neighbor, component);\n  }\n\n  updateComponent(timeDelta, entityId, component) {\n    position = this.world.get('Position', entityId);\n\n    queryBounds.left = position.left - component.range;\n    queryBounds.right = position.right - component.range;\n    queryBounds.top = position.top - component.range;\n    queryBounds.bottom = position.bottom - component.range;\n\n    components = this.world.get('Position');\n    for (entityId2 in components) {\n      component = components[entityId2];\n      this.applyRepulsion(component, entityId);\n    }\n\n    //this.positionSystem.quadtree.iterate(queryBounds, this.applyRepulsionBound, entityId);\n  }\n\n  applyRepulsion(neighbor, repulsorId) {\n    neighborSprite = this.world.get('Sprite', neighbor.entityId);\n    if (neighborSprite.name !== 'mine') { return; }\n\n    repulsor = this.world.get('Repulsor', repulsorId);\n    repulsorPosition = this.world.get('Position', repulsorId);\n    neighborPosition = this.world.get('Position', neighbor.entityId);\n    neighborMotion = this.world.get('Motion', neighbor.entityId);\n\n    dist =\n      (neighborPosition.x - repulsorPosition.x) *\n      (neighborPosition.x - repulsorPosition.x)\n      +\n      (neighborPosition.y - repulsorPosition.y) *\n      (neighborPosition.y - repulsorPosition.y)\n    ;\n\n    if (dist > (repulsor.range * repulsor.range)) { return; }\n    // if (dist < repulsor.range) { return; }\n\n    repelAngle = Math.atan2(\n      repulsorPosition.y - neighborPosition.y,\n      repulsorPosition.x - neighborPosition.x\n    );\n\n    repelForce = -repulsor.force;\n\n    neighborMotion.dx += repelForce * Math.cos(repelAngle);\n    neighborMotion.dy += repelForce * Math.sin(repelAngle);\n  }\n\n  draw(/* timeDelta */) {\n    const g = this.getDebugGraphics();\n    if (!g) { return; }\n\n    g.lineStyle(4, 0x882222);\n    components = this.getMatchingComponents();\n    for (entityId in components) {\n      component = components[entityId];\n      position = this.world.get('Position', entityId);\n      g.drawCircle(position.x, position.y, component.range);\n    }\n  }\n\n}\r\n\r\nregisterSystem('Repulsor', RepulsorSystem);\n","import { Component, System, registerComponent, registerSystem } from '../lib/core';\r\n\r\nexport class PlayerInputSteering extends Component {\r\n  static defaults() {\r\n    return {\r\n      active: true,\r\n      radPerSec: Math.PI * 2\r\n    };\r\n  }\r\n}\r\n\r\nregisterComponent('PlayerInputSteering', PlayerInputSteering);\r\n\r\nconst PI2 = Math.PI * 2;\r\n\r\nexport class PlayerInputSteeringSystem extends System {\r\n\r\n  defaultOptions() {\r\n    return {\r\n      gamepadDeadzone: 0.2\r\n    };\r\n  }\r\n\r\n  matchComponent() { return 'PlayerInputSteering'; }\r\n\r\n  initialize() {\r\n    this.gamepad = { active: false };\r\n    this.pointer = { active: false, x: 0, y: 0 };\r\n    this.keys = { active: false };\r\n    this.touch = { active: false, x: 0, y: 0 };\r\n\r\n    this.world\r\n      .subscribe('mouseDown', (msg, cursorPosition) =>\r\n        this.setPointer(true, cursorPosition))\r\n      .subscribe('mouseUp', (msg, cursorPosition) =>\r\n        this.setPointer(false, cursorPosition))\r\n      .subscribe('mouseMove', (msg, cursorPosition) =>\r\n        this.setPointer(this.pointer.active, cursorPosition));\r\n\r\n    const windowEvents = {\r\n      keydown: this.handleKeyDown,\r\n      keyup: this.handleKeyUp\r\n    };\r\n    Object.keys(windowEvents)\r\n      .forEach(k => window.addEventListener(k, windowEvents[k].bind(this)));\r\n  }\r\n\r\n  setPointer(active, position) {\r\n    this.pointer.active = active;\r\n    this.pointer.x = position.x;\r\n    this.pointer.y = position.y;\r\n  }\r\n\r\n  update(timeDelta) {\r\n    this.updateGamepads(timeDelta);\r\n    this.updateKeyboard(timeDelta);\r\n    super.update(timeDelta);\r\n  }\r\n\r\n  updateComponent(timeDelta, entityId, steering) {\r\n    const thruster = this.world.get('Thruster', entityId);\r\n    const motion = this.world.get('Motion', entityId);\r\n\r\n    thruster.active = true;\r\n    thruster.stop = false;\r\n\r\n    if (this.keys.active) {\r\n      return this.updateComponentFromKeyboard(timeDelta, entityId, steering);\r\n    }\r\n\r\n    if (this.pointer.active) {\r\n      return this.updateComponentFromPointer(timeDelta, entityId, steering);\r\n    }\r\n\r\n    if (this.gamepad.active) {\r\n      return this.updateComponentFromGamepad(timeDelta, entityId, steering);\r\n    }\r\n\r\n    thruster.stop = true;\r\n    motion.drotation = 0;\r\n  }\r\n\r\n  updateComponentFromPointer(timeDelta, entityId, steering) {\r\n    const position = this.world.get('Position', entityId);\r\n    this.updateMotionFromTargetAngle(timeDelta, entityId, steering,\r\n      Math.atan2(this.pointer.y - position.y, this.pointer.x - position.x));\r\n  }\r\n\r\n  updateComponentFromGamepad(timeDelta, entityId, steering) {\r\n    this.updateMotionFromTargetAngle(timeDelta, entityId, steering,\r\n      Math.atan2(this.gamepad.axis1, this.gamepad.axis0));\r\n  }\r\n\r\n  updateComponentFromKeyboard(timeDelta, entityId, steering) {\r\n    const thruster = this.world.get('Thruster', entityId);\r\n    const motion = this.world.get('Motion', entityId);\r\n\r\n    const dleft  = (this.keys[65] || this.keys[37] || this.gamepad.button13);\r\n    const dright = (this.keys[68] || this.keys[39] || this.gamepad.button14);\r\n    const dup    = (this.keys[87] || this.keys[38] || this.gamepad.button11);\r\n    // const ddown  = (this.keys[83] || this.keys[40] || this.gamepad.button12);\n\r\n    if (dup) {\r\n      thruster.active = true;\r\n    } else {\r\n      thruster.stop = true;\r\n    }\r\n\r\n    const direction = dleft ? -1 : (dright ? 1 : 0);\r\n    const targetDr = direction * steering.radPerSec;\r\n    motion.drotation = targetDr;\r\n  }\r\n\r\n  updateGamepads() {\r\n    const gamepads = navigator.getGamepads ? navigator.getGamepads() : [];\r\n\r\n    // TODO: specify which gamepad, i.e. for multiplayer\r\n    for (let i = 0; i < gamepads.length; i++) {\r\n      const gp = gamepads[i];\r\n      if (!gp || !gp.connected) continue;\r\n      gp.buttons.forEach((val, idx) => this.gamepad[`button${idx}`] = val.pressed);\r\n      gp.axes.forEach((val, idx) => this.gamepad[`axis${idx}`] = val);\r\n      break; // stop after the first gamepad\r\n    }\r\n\r\n    Object.keys(this.gamepad).forEach(k => {\r\n      if (!this.gamepad[k]) { delete this.gamepad[k]; }\r\n    });\r\n\r\n    const axisX = this.gamepad.axis0;\r\n    const axisY = this.gamepad.axis1;\r\n    this.gamepad.active =\r\n      (Math.abs(axisX) > 0 || Math.abs(axisY) > 0) &&\r\n      (Math.sqrt(axisX * axisX + axisY * axisY) > this.options.gamepadDeadzone);\r\n  }\r\n\r\n  updateKeyboard() {\r\n    const dleft  = (this.keys[65] || this.keys[37] || this.gamepad.button13);\r\n    const dright = (this.keys[68] || this.keys[39] || this.gamepad.button14);\r\n    const dup    = (this.keys[87] || this.keys[38] || this.gamepad.button11);\r\n    const ddown  = (this.keys[83] || this.keys[40] || this.gamepad.button12);\r\n\r\n    this.keys.active = (dleft || dright || dup || ddown);\r\n  }\r\n\r\n  handleKeyDown(ev) {\r\n    this.keys[ev.keyCode] = true;\r\n    ev.preventDefault();\r\n  }\r\n\r\n  handleKeyUp(ev) {\r\n    delete this.keys[ev.keyCode];\r\n    ev.preventDefault();\r\n  }\r\n\r\n  updateMotionFromTargetAngle(timeDelta, entityId, steering, targetAngleRaw) {\r\n    const position = this.world.get('Position', entityId);\r\n    const motion = this.world.get('Motion', entityId);\r\n\r\n    const targetAngle = (targetAngleRaw < 0) ?\r\n      targetAngleRaw + PI2 : targetAngleRaw;\r\n\r\n    // Pick the direction from current to target angle\r\n    let direction = (targetAngle < position.rotation) ? -1 : 1;\r\n\r\n    // If the offset between the angles is more than half a circle, go\r\n    // the other way because it'll be shorter.\r\n    const offset = Math.abs(targetAngle - position.rotation);\r\n    if (offset > Math.PI) {\r\n      direction = 0 - direction;\r\n    }\r\n\r\n    // Work out the desired delta-rotation to steer toward target\r\n    const targetDr = direction * Math.min(steering.radPerSec, offset / timeDelta);\r\n\r\n    // Calculate the delta-rotation impulse required to meet the goal,\r\n    // but constrain to the capability of the steering thrusters\r\n    let impulseDr = (targetDr - motion.drotation);\r\n    if (Math.abs(impulseDr) > steering.radPerSec) {\r\n      if (impulseDr > 0) {\r\n        impulseDr = steering.radPerSec;\r\n      } else if (impulseDr < 0) {\r\n        impulseDr = 0 - steering.radPerSec;\r\n      }\r\n    }\r\n\r\n    motion.drotation += impulseDr;\r\n  }\r\n\r\n}\r\n\r\nregisterSystem('PlayerInputSteering', PlayerInputSteeringSystem);\r\n","import { Component, System, registerComponent, registerSystem } from '../lib/core';\r\n\n// Commonly used temp variables, pre-declared early.\nlet entityId, matches, sprite;\n\nexport class HordeSpawn extends Component {\r\n  static defaults() {\r\n    return { age: 0 };\n  }\r\n}\n\nregisterComponent('HordeSpawn', HordeSpawn);\n\nexport class HordeSpawnSystem extends System {\n\n  defaultOptions() {\n    return {\n      viewportSystemName: 'ViewportPixi',\n      minCount: 100,\n      offscreenTTL: 1.0,\n      spawnMargin: 100,\n      spawn: () => {}\n    };\n  }\n\n  initialize() {\n    this.spawnCount = 0;\n    this.viewportSystem = this.world.getSystem(this.options.viewportSystemName);\n  }\n\n  matchComponent() { return 'HordeSpawn'; }\n\n  update(timeDelta) {\n    matches = this.getMatchingComponents() || {};\n    this.spawnCount = Object.keys(matches).length;\n    if (this.spawnCount < this.options.minCount) {\n      this.spawnOffscreen();\n    }\n    for (entityId in matches) {\n      this.updateComponent(timeDelta, entityId, matches[entityId]);\n    }\n  }\n\n  updateComponent(timeDelta, entityId, hordespawn) {\n    sprite = this.world.get('Sprite', entityId);\n    if (sprite.visible) {\n      hordespawn.age = 0;\n    } else {\n      hordespawn.age += timeDelta;\n      if (hordespawn.age >= this.options.offscreenTTL) {\n        this.world.destroy(entityId);\n      }\n    }\n  }\n\n  spawnOffscreen() {\n    const {visibleLeft, visibleRight, visibleTop, visibleBottom} = this.viewportSystem;\n    const margin = this.options.spawnMargin;\n    const w = (visibleRight + margin) - (visibleLeft - margin);\n    const h = (visibleBottom + margin) - (visibleTop - margin);\n    const r = Math.random();\n\n    let x, y;\n\n    if (r < 0.5) {\n      y = (visibleTop - margin) + (Math.random() * h);\n    } else {\n      x = (visibleLeft - margin) + (Math.random() * w);\n    }\n\n    if (r < 0.25) {\n      x = visibleLeft - margin;\n    } else if (r < 0.5) {\n      x = visibleRight + margin;\n    } else if (r < 0.75) {\n      y = visibleTop - margin;\n    } else {\n      y = visibleBottom + margin;\n    }\n\n    this.options.spawn(x, y);\n  }\n\n}\n\nregisterSystem('HordeSpawn', HordeSpawnSystem);\n","import * as Core from './lib/core';\n\nimport './plugins/drawStats';\nimport './plugins/memoryStats';\nimport './plugins/datGui';\nimport './plugins/viewportPixi';\nimport './plugins/name';\nimport './plugins/health';\nimport './plugins/position';\nimport './plugins/motion';\nimport './plugins/thruster';\nimport './plugins/seeker';\nimport './plugins/collision';\nimport './plugins/bounce';\nimport './plugins/repulsor';\nimport './plugins/playerInputSteering';\nimport './plugins/hordeSpawn';\n\nconst debug = true;\n\nconst world = window.world = new Core.World({\n  systems: {\n    ViewportPixi: {\n      debug: debug,\n      container: '#game',\n      canvas: '#viewport',\n      followName: 'hero1',\n      zoom: 0.3\n    },\n    DrawStats: {},\n    MemoryStats: {},\n    DatGui: {},\n    PlayerInputSteering: {},\n    Motion: {},\n    Position: {},\n    Thruster: {},\n    Seeker: {},\n    Repulsor: {},\n    Collision: {},\n    Bounce: {},\n    HordeSpawn: {\n      offscreenTTL: 0.5,\n      spawnMargin: 125,\n      minCount: 100,\n      spawn: (x, y) => {\n        const MIN_SIZE=100;\n        const MAX_SIZE=300;\n        const size = ((MAX_SIZE - MIN_SIZE) * Math.random()) + MIN_SIZE;\n        world.insert({\n          Sprite: { name: 'mine', size: size},\n          Health: { max: 4 * size * size },\n          Collidable: { },\n          Bounce: { mass: 4 * size * size },\n          Position: { x: x, y: y, rotation: (Math.PI * 2) * Math.random() },\n          Motion: { dx: 0, dy: 0, drotation: (Math.PI * 2) * Math.random() },\n          Thruster: { deltaV: 2400 + Math.random() * 100, maxV: 1200 + Math.random() * 200 },\n          Seeker: { targetName: 'hero1', radPerSec: 0.5 + Math.random() * 0.2 },\n          HordeSpawn: { }\n        });\n      }\n    }\n  }\n});\n\nworld.insert({\n  Name: { name: 'hero1'},\n  Sprite: { name: 'hero', color: 0x0000ff },\n  Collidable: {},\n  Bounce: { mass: 7000 },\n  Position: { x: 0, y: 0, rotation: -(Math.PI / 2) },\n  Motion: {},\n  Thruster: { deltaV: 2800, maxV: 1400, active: false },\n  PlayerInputSteering: { radPerSec: Math.PI }\n});\n\nlet x = 0;\nfor (let y = 0; y > -15000; y -= 600) {\n  world.insert({\n    Name: { name: `repulsor${y}` },\n    Sprite: { name: 'repulsor' },\n    Position: { x, y },\n    Motion: { },\n    Repulsor: { range: 600, force: 300 }\n  });\n  x += (-300 + Math.random() * 600);\n}\n\nworld.start();\n\nconst vpSystem = world.getSystem('ViewportPixi');\nconst spawnSystem = world.getSystem('HordeSpawn');\nconst guiSystem = world.getSystem('DatGui');\nconst gui = guiSystem.gui;\n\ngui.add(world, 'isPaused');\ngui.add(world, 'debug');\ngui.add(vpSystem, 'zoom', vpSystem.options.zoomMin, vpSystem.options.zoomMax).listen();\ngui.add(vpSystem, 'lineWidth', 1.0, 4.0).step(0.5).listen();\n\nconst names = [ 'gridEnabled', 'followEnabled', 'cameraX', 'cameraY' ];\nnames.forEach(function (name) {\n  gui.add(vpSystem, name).listen();\n});\n\nconst cp = vpSystem.cursorPosition;\ngui.add(cp, 'x').listen();\ngui.add(cp, 'y').listen();\n\ngui.add(spawnSystem, 'spawnCount').listen();\n"],"names":["TARGET_FPS","TARGET_DURATION","requestAnimationFrame","window","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","fn","entityId","system","systemName","systemAttrs","systemCls","componentName","timeNow","timeDelta","componentAttrs","matches","idx","item","handler","Messages","World","options","isRunning","isPaused","debug","systems","addSystems","store","subscribers","tickDuration","maxTickDelta","tickAccumulator","lastTickTime","lastDrawTime","boundTickLoop","tickLoop","boundDrawLoop","timestamp","drawLoop","reset","initialize","Date","now","lastEntityId","msg","push","data","systemsData","getSystem","setWorld","timeDeltaMS","updateStart","update","updateEnd","Math","min","tick","drawStart","draw","drawEnd","out","items","generateEntityId","addComponent","world","publish","ENTITY_INSERT","length","ENTITY_DESTROY","removeComponent","componentManager","getComponent","component","create","Component","attrs","defaults","System","defaultOptions","get","matchComponent","getMatchingComponents","updateComponent","gDebug","visible","viewportSystem","viewportSystemName","PIXI","Graphics","stage","addChild","position","x","y","clear","componentRegistry","registerComponent","systemRegistry","registerSystem","DrawStats","drawStats","Stats","setMode","domElement","style","left","top","body","appendChild","tickStats","begin","end","Core","MemoryStatsSystem","stats","MemoryStats","require$$1","require$$0","DatGui","gui","dat","GUI","f","module","define","amd","g","global","self","this","filters","t","n","r","o","u","require","a","i","code","exports","call","l","e","s","1","Filter","size","AsciiFilter","prototype","Object","constructor","defineProperties","uniforms","pixelSize","set","value","blurXFilter","blurYFilter","blendMode","BLEND_MODES","SCREEN","defaultFilter","BlurXFilter","BlurYFilter","VoidFilter","BloomFilter","apply","filterManager","input","output","getRenderTarget","renderTarget","returnRenderTarget","blur","blurX","blurY","matrix","width","height","ConvolutionFilter","texelSize","CrossHatchFilter","scale","angle","DotFilter","strength","EmbossFilter","PixelateFilter","red","green","blue","RGBSplitFilter","center","type","params","z","time","ShockwaveFilter","gradientBlur","start","Point","innerHeight","delta","texSize","innerWidth","updateDelta","TiltShiftAxisFilter","tiltShiftXFilter","tiltShiftYFilter","TiltShiftYFilter","TiltShiftFilter","TiltShiftXFilter","dy","d","sqrt","dx","radius","padding","TwistFilter","offset","assign","GlowFilter","OutlineFilter","BulgePinchFilter","ColorReplaceFilter","SimpleLightmapFilter","require$$4","require$$3","require$$2","PI2","PI","sprite","wheelDistance","evt","event","w","wheelDelta","detail","ViewportPixi","container","document","querySelector","renderer","autoDetectRenderer","offsetWidth","offsetHeight","antialias","autoResize","canvas","view","Container","backdrop","graphics","events","ev","updateMetrics","onMouseDown","onMouseMove","onMouseUp","name","addEventListener","boundOnMouseWheel","onMouseWheel","attachEvent","followEnabled","zoom","followEntityId","gridEnabled","lineWidth","cursorRawX","cursorRawY","cursorChanged","cursorPosition","cameraX","cameraY","debugDummySprite","zoomWheelFactor","zoomMin","zoomMax","setCursor","clientX","clientY","newX","newY","visibleWidth","visibleHeight","visibleLeft","visibleTop","visibleRight","visibleBottom","sprites","right","bottom","toRemove","keys","filter","key","forEach","removeChild","toAdd","followEntity","drawBackdrop","drawSprite","setTransform","resize","render","ctx","spriteFn","getSprite","floor","rotation","lineStyle","drawn","followName","findEntityByName","gridSize","gridOffsetX","gridOffsetY","gridColor","moveTo","lineTo","CanvasSprite","c","spriteRegistry","registerSprite","arc","lineColor","lerp","v0","v1","repulsorSides","repulsorPoints","rot","cos","sin","random","rings","delay","startR","endR","startO","endO","endT","ring","drawPolygon","map","p","NUM_POINTS","MAX_RADIUS","MIN_RADIUS","ROTATION","points","dist","legs","even","shakeDist","Name","names","nid","nameComponent","Health","max","current","show_bar","QuadTree","maxObjects","maxLevels","level","root","bounds","objects","nodes","_empty","entityMap","round","subWidth","subHeight","index","getIndex","insert","oldNode","objectIndex","indexOf","splice","split","rect","midX","midY","source","iteratorFn","optionalParam","iterate","Position","positions","PositionSystem","quadtree","quadtreeObjectsPerNode","quadtreeMaxLevels","updateBounds","resetQuadtree","halfWidth","halfHeight","getDebugGraphics","drawCircle","drawDebugQuadtreeNode","drawRect","Motion","drotation","MotionSystem","motion","pos","Vector2D","cloneFrom","object","fromArray","array","zero","add","vector","addScalar","val","eq","subtract","clone","setValues","_at_x","_at_y","normalise","normalize","isZero","m","magnitude","reverse","toArray","atan2","rotate","angleTo","rotateAround","point","multiplyScalar","multiply","divide","divideScalar","dot","Thruster","ThrusterSystem","vInertia","vThrust","vBrakes","thruster","active","tickDeltaV","deltaV","stop","useBrakes","maxV","currV","overV","brakingDv","Seeker","SeekerSystem","vSeeker","vTarget","seeker","targetName","targetEntityId","acquisitionDelay","targetPosition","targetAngle","direction","abs","targetDr","radPerSec","impulseDr","Collidable","match","entityId2","aCollidable","bCollidable","radii","CollisionSystem","positionSystem","positionSystemName","retrieveBounds","checkCollisionBound","neighbor","checkCollision","inCollision","inCollisionWith","bPosition","aPosition","collidables","collidable","BounceComponent","BounceSystem","dn","dt","mt","v2","v1n","v1t","v2n","v2t","entities","pairs","aEntityId","bEntityId","pair","sort","join","aBouncer","bBouncer","resolveElasticCollision","aSprite","aMotion","bSprite","bMotion","m1","mass","m2","M","aFactor","bFactor","Repulsor","components","repulsor","repulsorPosition","neighborSprite","neighborPosition","neighborMotion","repelAngle","repelForce","queryBounds","RepulsorSystem","applyRepulsionBound","applyRepulsion","range","repulsorId","force","PlayerInputSteering","PlayerInputSteeringSystem","gamepad","pointer","touch","subscribe","setPointer","windowEvents","handleKeyDown","handleKeyUp","k","bind","updateGamepads","updateKeyboard","steering","updateComponentFromKeyboard","updateComponentFromPointer","updateComponentFromGamepad","updateMotionFromTargetAngle","axis1","axis0","dleft","button13","dright","button14","dup","button11","gamepads","navigator","getGamepads","gp","connected","buttons","pressed","axes","axisX","axisY","gamepadDeadzone","ddown","button12","keyCode","preventDefault","targetAngleRaw","HordeSpawn","age","HordeSpawnSystem","spawnCount","minCount","spawnOffscreen","hordespawn","offscreenTTL","destroy","margin","spawnMargin","h","spawn","MIN_SIZE","MAX_SIZE","color","vpSystem","spawnSystem","guiSystem","listen","step","cp"],"mappings":"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"}